{"version":3,"file":"InputContent.js","sources":["../../../src/cascader/components/InputContent.tsx"],"sourcesContent":["import { PropType } from 'vue';\nimport isFunction from 'lodash/isFunction';\nimport { CloseCircleFilledIcon } from 'tdesign-icons-vue';\nimport { prefix } from '../../config';\nimport CLASSNAMES from '../../utils/classnames';\nimport getConnfigRecevierMixins, { CascaderConfig } from '../../config-provider/config-receiver';\nimport mixins from '../../utils/mixins';\nimport { renderTNodeJSX } from '../../utils/render-tnode';\nimport { TreeNode, CascaderContextType, InputContentProps } from '../interface';\n// component\nimport Tag from '../../tag';\nimport TLoading from '../../loading';\nimport Input, { InputValue } from '../../input';\nimport FakeArrow from '../../common-components/fake-arrow';\n\n// common logic\nimport {\n  getCloseIconClass,\n  getFakeArrowIconClass,\n  getCascaderInnerClasses,\n  getCloseShow,\n  getPlaceholderShow,\n  getSingleContent,\n  getMultipleContent,\n  outerClickListenerEffect,\n  closeIconClickEffect,\n  handleRemoveTagEffect,\n  innerContentClickEffect,\n} from '../utils/inputContent';\nimport { getFullPathLabel } from '../utils/helper';\n\n// type\nimport { ClassName } from '../../common';\nimport CascaderProps from '../props';\n\nconst name = `${prefix}-cascader`;\n\ninterface ComponentComputed {\n  closeIconClass: ClassName;\n  fakeArrowIconClass: ClassName;\n  cascaderInnerClasses: ClassName;\n  closeShow: boolean;\n  showPlaceholder: boolean;\n  singleContent: string;\n  multipleContent: TreeNode[];\n}\ninterface ComponentData {\n  isHover: boolean;\n}\n\ninterface ComponentMethods {\n  getInputWidth: () => void;\n  outerClickListenerFn: (event: MouseEvent | TouchEvent) => void;\n  InnerContent: () => JSX.Element;\n  renderContent: () => JSX.Element;\n  renderSuffixIcon: () => JSX.Element;\n}\n\ninterface ComponentInstanceType extends ComponentComputed, ComponentData, ComponentMethods {}\n\nconst cascaderGglobalConfig = getConnfigRecevierMixins<InputContentProps & Vue & ComponentInstanceType, CascaderConfig>(\n  'cascader',\n);\n\nexport default mixins(cascaderGglobalConfig).extend({\n  name: `${name}-input-content`,\n  props: {\n    cascaderContext: {\n      type: Object as PropType<CascaderContextType>,\n    },\n    placeholder: CascaderProps.placeholder,\n    listeners: {\n      type: Object as PropType<InputContentProps['listeners']>,\n    },\n    collapsedItems: CascaderProps.collapsedItems,\n  },\n  components: {\n    Tag,\n    Input,\n    CloseCircleFilledIcon,\n  },\n\n  data() {\n    return {\n      isHover: false,\n    };\n  },\n\n  computed: {\n    closeIconClass(): ClassName {\n      return getCloseIconClass(prefix, CLASSNAMES, this.cascaderContext);\n    },\n    fakeArrowIconClass(): ClassName {\n      return getFakeArrowIconClass(prefix, CLASSNAMES, this.cascaderContext);\n    },\n    cascaderInnerClasses(): ClassName {\n      return getCascaderInnerClasses(prefix, CLASSNAMES, this.cascaderContext);\n    },\n    closeShow(): boolean {\n      return getCloseShow(this.isHover, this.cascaderContext);\n    },\n    singleContent() {\n      return getSingleContent(this.cascaderContext);\n    },\n    multipleContent() {\n      return getMultipleContent(this.cascaderContext);\n    },\n    showPlaceholder() {\n      return getPlaceholderShow(this.cascaderContext, this.singleContent, this.multipleContent);\n    },\n  },\n  mounted() {\n    document.addEventListener('click', (event) => {\n      this.outerClickListenerFn(event);\n    });\n    setTimeout(() => {\n      this.getInputWidth();\n    });\n  },\n  beforeDestroy() {\n    document.removeEventListener('click', (event) => {\n      this.outerClickListenerFn(event);\n    });\n  },\n  inject: {\n    tCascader: {\n      default: undefined,\n    },\n  },\n  methods: {\n    getInputWidth() {\n      const { width } = (this.$refs.inputContent as HTMLElement).getBoundingClientRect();\n      const {\n        cascaderContext: { setInputWidth },\n      } = this;\n      setInputWidth(width);\n    },\n    outerClickListenerFn(event: MouseEvent | TouchEvent) {\n      return outerClickListenerEffect(this.$refs.inputContent as HTMLElement, this.cascaderContext, event);\n    },\n    renderContent() {\n      const { placeholder, showPlaceholder } = this;\n      const content = !showPlaceholder ? (\n        this.InnerContent()\n      ) : (\n        <span class={`${prefix}-cascader__placeholder`}>{placeholder || this.t(this.global.placeholder)}</span>\n      );\n      return content;\n    },\n    InnerContent() {\n      const {\n        cascaderContext, placeholder, singleContent, multipleContent, listeners, collapsedItems,\n      } = this;\n\n      const {\n        multiple,\n        size,\n        disabled,\n        filterable,\n        setFilterActive,\n        visible,\n        inputVal,\n        setInputVal,\n        minCollapsedNum,\n        value,\n        showAllLevels,\n      } = cascaderContext;\n\n      const { onFocus, onBlur, onRemove } = listeners as InputContentProps['listeners'];\n\n      const renderSelfTag = (node: TreeNode, index: number) => (\n        <Tag\n          closable={!disabled}\n          key={index}\n          disabled={disabled}\n          onClose={(ctx: any) => {\n            ctx.e.stopPropagation();\n            handleRemoveTagEffect(cascaderContext, node, onRemove);\n          }}\n          size={size}\n        >\n          {showAllLevels ? getFullPathLabel(node) : node.label}\n        </Tag>\n      );\n      const renderCollItems = () => {\n        const tempList: object[] = [];\n        multipleContent.forEach((node: TreeNode) => {\n          tempList.push(node.data);\n        });\n        return tempList;\n      };\n\n      const generalContent = !multiple ? (\n        <span class={`${prefix}-cascader__content`}>{singleContent}</span>\n      ) : (\n        <span>\n          {minCollapsedNum > 0 && multipleContent.length > minCollapsedNum ? (\n            <span>\n              {multipleContent\n                .slice(0, minCollapsedNum)\n                .map((node: TreeNode, index: number) => renderSelfTag(node, index))}\n              {collapsedItems || this.$scopedSlots.collapsedItems ? (\n                renderTNodeJSX(this, 'collapsedItems', {\n                  params: {\n                    value: renderCollItems(),\n                    collapsedSelectedItems: renderCollItems().slice(minCollapsedNum),\n                    count: renderCollItems().length - minCollapsedNum,\n                  },\n                })\n              ) : (\n                <Tag size={size} disabled={disabled}>\n                  +{multipleContent.length - minCollapsedNum}\n                </Tag>\n              )}\n            </span>\n          ) : (\n            multipleContent.map((node: TreeNode, index: number) => renderSelfTag(node, index))\n          )}\n        </span>\n      );\n\n      const inputPlaceholder = multiple\n        ? multipleContent.map((node: TreeNode) => node.label).join('、')\n        : singleContent;\n\n      const filterContent = () => (\n        <Input\n          size={size}\n          placeholder={inputPlaceholder || placeholder || this.t(this.global.placeholder)}\n          value={inputVal}\n          onChange={(value: string) => {\n            setInputVal(value);\n            setFilterActive(!!value);\n          }}\n          onFocus={(v: InputValue, context: { e: FocusEvent }) => isFunction(onFocus) && onFocus({ value, e: context?.e })\n          }\n          onBlur={(v: InputValue, context: { e: FocusEvent }) => isFunction(onBlur) && onBlur({ value, e: context?.e })}\n          autofocus={visible}\n        />\n      );\n\n      return filterable && visible ? filterContent() : generalContent;\n    },\n    renderSuffixIcon() {\n      const {\n        closeShow,\n        closeIconClass,\n        fakeArrowIconClass,\n        cascaderContext: {\n          size, visible, disabled, loading,\n        },\n      } = this;\n\n      const closeIconClick = (context: { e: MouseEvent }) => {\n        context.e.stopPropagation();\n\n        closeIconClickEffect(this.cascaderContext);\n      };\n\n      if (loading) {\n        return (\n          <span class={`${prefix}-cascader-icon`}>\n            <TLoading size=\"small\" />\n          </span>\n        );\n      }\n      if (closeShow) {\n        return (\n          <transition name={`${prefix}-cascader-close-icon-fade`} appear>\n            <CloseCircleFilledIcon class={closeIconClass} size={size} onClick={closeIconClick} />\n          </transition>\n        );\n      }\n\n      return <FakeArrow overlayClassName={fakeArrowIconClass} isActive={visible} disabled={disabled} />;\n    },\n  },\n  render() {\n    const { $attrs, cascaderContext } = this;\n\n    return (\n      <div\n        ref=\"inputContent\"\n        class={this.cascaderInnerClasses}\n        {...$attrs}\n        onMouseenter={() => {\n          this.isHover = true;\n        }}\n        onMouseleave={() => {\n          this.isHover = false;\n        }}\n        onClick={(e: MouseEvent) => {\n          e.preventDefault();\n          innerContentClickEffect(cascaderContext);\n        }}\n      >\n        {this.renderContent()}\n        {this.renderSuffixIcon()}\n      </div>\n    );\n  },\n});\n"],"names":["name","prefix","cascaderGglobalConfig","getConnfigRecevierMixins","mixins","extend","props","cascaderContext","type","Object","placeholder","CascaderProps","listeners","collapsedItems","components","Tag","Input","CloseCircleFilledIcon","data","isHover","computed","closeIconClass","getCloseIconClass","CLASSNAMES","fakeArrowIconClass","getFakeArrowIconClass","cascaderInnerClasses","getCascaderInnerClasses","closeShow","getCloseShow","singleContent","getSingleContent","multipleContent","getMultipleContent","showPlaceholder","getPlaceholderShow","mounted","document","addEventListener","event","outerClickListenerFn","setTimeout","getInputWidth","beforeDestroy","removeEventListener","inject","tCascader","methods","$refs","inputContent","getBoundingClientRect","width","setInputWidth","outerClickListenerEffect","renderContent","content","InnerContent","t","global","multiple","size","disabled","filterable","setFilterActive","visible","inputVal","setInputVal","minCollapsedNum","value","showAllLevels","onFocus","onBlur","onRemove","renderSelfTag","node","index","ctx","e","stopPropagation","handleRemoveTagEffect","getFullPathLabel","label","renderCollItems","tempList","forEach","push","generalContent","length","slice","map","$scopedSlots","renderTNodeJSX","params","collapsedSelectedItems","count","inputPlaceholder","join","filterContent","value2","v","context","isFunction","renderSuffixIcon","loading","closeIconClick","closeIconClickEffect","TLoading","render","$attrs","_mergeJSXProps","preventDefault","innerContentClickEffect"],"mappings":"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"}