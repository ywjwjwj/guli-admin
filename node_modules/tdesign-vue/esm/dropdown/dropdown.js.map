{"version":3,"file":"dropdown.js","sources":["../../src/dropdown/dropdown.tsx"],"sourcesContent":["import Vue, { VNode } from 'vue';\nimport { prefix } from '../config';\nimport Popup from '../popup';\nimport DropdownMenu from './dropdown-menu';\nimport { emitEvent } from '../utils/event';\nimport { DropdownOption } from './type';\nimport props from './props';\n\nconst name = `${prefix}-dropdown`;\n\nexport default Vue.extend({\n  name: 'TDropdown',\n  props: {\n    ...props,\n  },\n  provide() {\n    return {\n      dropdown: this,\n    };\n  },\n  methods: {\n    handleMenuClick(data: DropdownOption, context: { e: MouseEvent }) {\n      if (this.hideAfterItemClick) {\n        const {\n          popupElem,\n        }: any = this.$refs;\n        popupElem.handleClose();\n      }\n      emitEvent(this, 'click', data, context);\n    },\n  },\n  render() {\n    const trigger: VNode[] | VNode | string = this.$scopedSlots.default\n      ? this.$scopedSlots.default(null) : '';\n    const contentSlot: VNode[] | VNode | string = this.$scopedSlots.dropdown ? this.$scopedSlots.dropdown(null) : '';\n\n    const popupProps = {\n      props: {\n        ...this.$attrs,\n        ...this.popupProps,\n        disabled: this.disabled,\n        placement: this.placement,\n        trigger: this.trigger,\n        overlayClassName: this.popupProps && this.popupProps.overlayClassName\n          ? [name, this.popupProps.overlayClassName]\n          : name,\n      },\n      ref: 'popup',\n    };\n\n    return (\n      <Popup {...popupProps} ref=\"popupElem\" expandAnimation={true}>\n        <template slot='content' role='dropdown'>\n          {contentSlot || <DropdownMenu />}\n        </template>\n        {trigger}\n      </Popup>\n    );\n  },\n});\n"],"names":["name","prefix","Vue","extend","props","provide","dropdown","methods","handleMenuClick","data","context","hideAfterItemClick","popupElem","$refs","handleClose","emitEvent","render","trigger","$scopedSlots","contentSlot","popupProps","$attrs","disabled","placement","overlayClassName","ref","_mergeJSXProps","DropdownMenu"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMA,IAAMA,IAAI,GAAMC,EAAAA,CAAAA,MAAAA,CAAAA,MAAN,EAAV,WAAA,CAAA,CAAA;AACA,gBAAeC,GAAG,CAACC,MAAJ,CAAW;AACxBH,EAAAA,IAAI,EAAE,WADkB;AAExBI,EAAAA,KAAK,EACAA,aAAAA,CAAAA,EAAAA,EAAAA,KADA,CAFmB;AAKxBC,EAAAA,OALwB,EAKd,SAAA,OAAA,GAAA;AACR,IAAO,OAAA;AACLC,MAAAA,QAAQ,EAAE,IAAA;AADL,KAAP,CAAA;AAGD,GATuB;AAUxBC,EAAAA,OAAO,EAAE;AACPC,IAAAA,eADO,EAAA,SAAA,eAAA,CACSC,IADT,EACeC,OADf,EACwB;AAC7B,MAAI,IAAA,IAAA,CAAKC,kBAAT,EAA6B;AAC3B,QAAA,IACEC,SADF,GAEI,IAAKC,CAAAA,KAFT,CACED,SADF,CAAA;AAGAA,QAAAA,SAAS,CAACE,WAAV,EAAA,CAAA;AACD,OAAA;;AACDC,MAAAA,SAAS,CAAC,IAAD,EAAO,OAAP,EAAgBN,IAAhB,EAAsBC,OAAtB,CAAT,CAAA;AACD,KAAA;AATM,GAVe;AAqBxBM,EAAAA,MArBwB,EAqBf,SAAA,MAAA,GAAA;AAAA,IAAA,IAAA,CAAA,GAAA,SAAA,CAAA,CAAA,CAAA,CAAA;AACP,IAAMC,IAAAA,OAAO,GAAG,IAAA,CAAKC,YAAL,CAAA,SAAA,CAAA,GAA4B,IAAKA,CAAAA,YAAL,CAA0B,SAAA,CAAA,CAAA,IAA1B,CAA5B,GAA8D,EAA9E,CAAA;AACA,IAAA,IAAMC,WAAW,GAAG,IAAKD,CAAAA,YAAL,CAAkBZ,QAAlB,GAA6B,IAAKY,CAAAA,YAAL,CAAkBZ,QAAlB,CAA2B,IAA3B,CAA7B,GAAgE,EAApF,CAAA;AACA,IAAA,IAAMc,UAAU,GAAG;AACjBhB,MAAAA,KAAK,EACA,aAAA,CAAA,aAAA,CAAA,aAAA,CAAA,EAAA,EAAA,IAAA,CAAKiB,MADL,CAAA,EAEA,KAAKD,UAFL,CAAA,EAAA,EAAA,EAAA;AAGHE,QAAAA,QAAQ,EAAE,IAAA,CAAKA,QAHZ;AAIHC,QAAAA,SAAS,EAAE,IAAA,CAAKA,SAJb;AAKHN,QAAAA,OAAO,EAAE,IAAA,CAAKA,OALX;AAMHO,QAAAA,gBAAgB,EAAE,IAAA,CAAKJ,UAAL,IAAmB,IAAA,CAAKA,UAAL,CAAgBI,gBAAnC,GAAsD,CAACxB,IAAD,EAAO,IAAA,CAAKoB,UAAL,CAAgBI,gBAAvB,CAAtD,GAAiGxB,IAAAA;AANhH,OADY,CAAA;AASjByB,MAAAA,GAAG,EAAE,OAAA;AATY,KAAnB,CAAA;AAWA,IAAA,OAAA,CAAA,CAAA,KAAA,EAAAC,MAAA,CAAA,CAAA,EAAA,EAAkBN,UAAlB,EAAA;AAAA,MAAA,KAAA,EAAkC,WAAlC;AAAA,MAAA,OAAA,EAAA;AAAA,QAA+D,iBAAA,EAAA,IAAA;AAA/D,OAAA;AAAA,KAAA,CAAA,CAAA,EAAA,CAAA,CAAA,CAAA,UAAA,EAAA;AAAA,MAAA,MAAA,EACiB,SADjB;AAAA,MAAA,OAAA,EAAA;AAAA,QACgC,MAAA,EAAA,UAAA;AADhC,OAAA;AAAA,KAC4CD,EAAAA,CAAAA,WAAW,IADvD,CAAA,CAAAQ,aAAA,CAAA,CAAA,CAAA,EAEGV,OAFH,CAAA,CAAA,CAAA;AAID,GAAA;AAvCuB,CAAX,CAAf;;;;"}