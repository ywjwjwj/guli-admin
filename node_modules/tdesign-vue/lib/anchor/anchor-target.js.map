{"version":3,"file":"anchor-target.js","sources":["../../src/anchor/anchor-target.tsx"],"sourcesContent":["import Vue from 'vue';\nimport { FileCopyIcon } from 'tdesign-icons-vue';\nimport copyText from '../utils/clipboard';\nimport Message from '../message/plugin';\nimport props from './anchor-target-props';\nimport TPopup from '../popup';\nimport { COMPONENT_NAME } from './constant';\n\nexport default Vue.extend({\n  name: 'TAnchorTarget',\n\n  components: {\n    TPopup,\n    FileCopyIcon,\n  },\n\n  props: { ...props },\n\n  methods: {\n    /**\n     * 复制当前target的链接\n     *\n     */\n    copyText(): void {\n      // 通过构造一个a标签, 自动拼接好传入的id为href\n      const a = document.createElement('a');\n      a.href = `#${this.id}`;\n      copyText(a.href);\n      Message.success('链接复制成功', 1000);\n    },\n  },\n  render() {\n    const {\n      tag: Tag,\n      $scopedSlots: { default: children },\n      id,\n    } = this;\n    const className = [`${COMPONENT_NAME}__target`];\n    const iconClassName = `${COMPONENT_NAME}__copy`;\n    return (\n      <Tag id={id} class={className}>\n        {children && children(null)}\n        <t-popup content=\"复制链接\" placement=\"top\" showArrow class={iconClassName}>\n          <file-copy-icon nativeOnClick={this.copyText} />\n        </t-popup>\n      </Tag>\n    );\n  },\n});\n"],"names":["Vue","extend","name","components","TPopup","FileCopyIcon","props","methods","copyText","a","document","createElement","href","id","Message","success","render","Tag","tag","children","$scopedSlots","className","COMPONENT_NAME","iconClassName"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOA,oBAAeA,uBAAG,CAACC,MAAJ,CAAW;AACxBC,EAAAA,IAAI,EAAE,eADkB;AAExBC,EAAAA,UAAU,EAAE;AACVC,IAAAA,MAAM,EAANA,iBADU;AAEVC,IAAAA,YAAY,EAAZA,4BAAAA;AAFU,GAFY;AAMxBC,EAAAA,KAAK,EAAOA,aAAAA,CAAAA,EAAAA,EAAAA,mCAAP,CANmB;AAOxBC,EAAAA,OAAO,EAAE;AACPC,IAAAA,QADO,EACI,SAAA,QAAA,GAAA;AACT,MAAA,IAAMC,CAAC,GAAGC,QAAQ,CAACC,aAAT,CAAuB,GAAvB,CAAV,CAAA;AACAF,MAAAA,CAAC,CAACG,IAAF,GAAA,GAAA,CAAA,MAAA,CAAa,KAAKC,EAAlB,CAAA,CAAA;;AACAL,MAAAA,0BAAQ,CAACC,CAAC,CAACG,IAAH,CAAR,CAAA;;AACAE,MAAAA,4BAAO,CAACC,OAAR,CAAgB,sCAAhB,EAAwD,GAAxD,CAAA,CAAA;AACD,KAAA;AANM,GAPe;AAexBC,EAAAA,MAfwB,EAef,SAAA,MAAA,GAAA;AAAA,IAAA,IAAA,CAAA,GAAA,SAAA,CAAA,CAAA,CAAA,CAAA;AACP,IAAA,IACOC,GADP,GAII,IAJJ,CACEC,GADF;AAAA,QAE2BC,QAF3B,GAII,IAJJ,CAEEC,YAFF,CAAA,SAAA,CAAA;AAAA,QAGEP,EAHF,GAII,IAJJ,CAGEA,EAHF,CAAA;AAKA,IAAA,IAAMQ,SAAS,GAAG,CAAIC,EAAAA,CAAAA,MAAAA,CAAAA,8BAAJ,EAAlB,UAAA,CAAA,CAAA,CAAA;AACA,IAAMC,IAAAA,aAAa,GAAMD,EAAAA,CAAAA,MAAAA,CAAAA,8BAAN,EAAnB,QAAA,CAAA,CAAA;AACA,IAAA,OAAA,CAAA,CAAA,GAAA,EAAA;AAAA,MAAA,OAAA,EAAA;AAAA,QAAgBT,IAAAA,EAAAA,EAAAA;AAAhB,OAAA;AAAA,MAA2BQ,OAAAA,EAAAA,SAAAA;AAA3B,KAAA,EAAA,CACGF,QAAQ,IAAIA,QAAQ,CAAC,IAAD,CADvB,EAAA,CAAA,CAAA,SAAA,EAAA;AAAA,MAAA,OAAA,EAAA;AAAA,QAAA,SAAA,EAEoB,0BAFpB;AAAA,QAAA,WAAA,EAE0D,KAF1D;AAAA,QAAA,WAAA,EAAA,IAAA;AAAA,OAAA;AAAA,MAEiFI,OAAAA,EAAAA,aAAAA;AAFjF,KAAA,EAAA,CAAA,CAAA,CAAA,gBAAA,EAAA;AAAA,MAAA,UAAA,EAAA;AAAA,QAAA,OAAA,EAE+H,IAAKf,CAAAA,QAAAA;AAFpI,OAAA;AAAA,KAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AAID,GAAA;AA3BuB,CAAX,CAAf;;;;"}