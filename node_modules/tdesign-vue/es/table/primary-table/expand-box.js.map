{"version":3,"file":"expand-box.js","sources":["../../../src/table/primary-table/expand-box.tsx"],"sourcesContent":["import Vue from 'vue';\nimport isFunction from 'lodash/isFunction';\nimport { ChevronRightCircleIcon } from 'tdesign-icons-vue';\nimport mixins from '../../utils/mixins';\nimport getConfigReceiverMixins, { TableConfig } from '../../config-provider/config-receiver';\nimport primaryTableProps from '../primary-table-props';\nimport { prefix } from '../../config';\nimport { Styles } from '../../common';\n\nexport default mixins(getConfigReceiverMixins<Vue, TableConfig>('table')).extend({\n  name: `${prefix}-expand-box`,\n\n  props: {\n    expanded: {\n      type: Boolean,\n      default: false,\n    },\n    row: {\n      type: Object,\n    },\n    rowIndex: {\n      type: Number,\n    },\n    expandIcon: primaryTableProps.expandIcon,\n  },\n\n  methods: {\n    getDefaultIcon() {\n      // if ChevronRightCircleIcon and rotate(90deg) have to be changed, contact me please.\n      return isFunction(this.global.expandIcon) ? (\n        this.global.expandIcon(this.$createElement)\n      ) : (\n        <ChevronRightCircleIcon />\n      );\n    },\n    getExpandIcon(expanded: boolean) {\n      const icon = isFunction(this.expandIcon)\n        ? this.expandIcon(this.$createElement, { row: this.row, index: this.rowIndex })\n        : this.getDefaultIcon();\n      const style: Styles = {\n        transition: 'all .2s',\n        display: 'inline-block',\n        'align-items': 'center',\n      };\n      if (expanded) {\n        style.transform = 'rotate(90deg)';\n      }\n      if (!icon) return false;\n      return <span style={style}>{icon}</span>;\n    },\n  },\n  render() {\n    const { expanded, $listeners } = this;\n    const buttonProps = { on: { ...$listeners } };\n    const icon = this.getExpandIcon(expanded);\n    if (!icon) return null;\n    return (\n      <span {...buttonProps} class={`${prefix}-table__expand-box`}>\n        {icon}\n      </span>\n    );\n  },\n});\n"],"names":["mixins","getConfigReceiverMixins","extend","name","prefix","props","expanded","type","Boolean","row","Object","rowIndex","Number","expandIcon","primaryTableProps","methods","getDefaultIcon","isFunction","global","$createElement","getExpandIcon","icon","index","style","transition","display","transform","render","$listeners","buttonProps","on","_mergeJSXProps"],"mappings":"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"}