{"version":3,"file":"dropdown-item.js","sources":["../../src/dropdown/dropdown-item.tsx"],"sourcesContent":["import Vue from 'vue';\nimport { ChevronRightIcon } from 'tdesign-icons-vue';\nimport TDivider from '../divider';\nimport { prefix } from '../config';\nimport itemProps from './dropdown-item-props';\nimport { STATUS_CLASSNAMES } from '../utils/classnames';\nimport { DropdownOption } from './type';\n\nimport { renderContent } from '../utils/render-tnode';\nimport { emitEvent } from '../utils/event';\nimport ripple from '../utils/ripple';\nimport mixins from '../utils/mixins';\nimport { getKeepAnimationMixins } from '../config-provider/config-receiver';\n\nimport { TNodeReturnValue } from '../common';\n\nconst name = `${prefix}-dropdown__item`;\n\nconst keepAnimationMixins = getKeepAnimationMixins<DropdownItemInstance>();\n\nexport interface DropdownItemInstance extends Vue {\n  dropdown: {\n    handleMenuClick: (data: DropdownOption, context: { e: MouseEvent }) => void;\n  };\n}\n\nexport default mixins(keepAnimationMixins).extend({\n  name: 'TDropdownItem',\n  components: {\n    ChevronRightIcon,\n    TDivider,\n  },\n  directives: { ripple },\n  inject: {\n    dropdown: {\n      default: undefined,\n    },\n  },\n  props: {\n    ...itemProps,\n    path: {\n      type: String,\n      default: '',\n    },\n    hasChildren: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  data() {\n    return {\n      focused: false,\n    };\n  },\n  methods: {\n    renderSuffix(): TNodeReturnValue {\n      return this.hasChildren ? <ChevronRightIcon class={`${name}-icon`} /> : null;\n    },\n    handleItemClick(e: MouseEvent): void {\n      if (!this.hasChildren && !this.disabled) {\n        const data = {\n          value: this.value,\n          path: this.path,\n          content: this.content,\n        };\n\n        emitEvent(this, 'item-hover', this.path);\n        emitEvent(this, 'click', data, { e }); // dropdown item的点击回调\n        this.dropdown.handleMenuClick(data, { e });\n      }\n    },\n    handleMouseover(): void {\n      emitEvent(this, 'hover', this.path);\n    },\n  },\n  render() {\n    const classes = [\n      name,\n      {\n        [`${prefix}-dropdown--suffix`]: this.hasChildren,\n        [STATUS_CLASSNAMES.disabled]: this.disabled,\n        [STATUS_CLASSNAMES.active]: this.active,\n      },\n    ];\n    return (\n      <div>\n        <div\n          v-ripple={this.keepAnimation.ripple}\n          class={classes}\n          onClick={this.handleItemClick}\n          onMouseover={this.handleMouseover}\n        >\n          <div class={`${name}-content`}>\n            <span class={`${name}-text`}>{renderContent(this, 'content', 'default')}</span>\n          </div>\n          {this.renderSuffix()}\n        </div>\n        {this.divider ? <TDivider /> : null}\n      </div>\n    );\n  },\n});\n"],"names":["name","prefix","keepAnimationMixins","getKeepAnimationMixins","mixins","extend","components","ChevronRightIcon","TDivider","directives","ripple","inject","dropdown","props","itemProps","path","type","String","hasChildren","Boolean","data","focused","methods","renderSuffix","handleItemClick","e","disabled","value","content","emitEvent","handleMenuClick","handleMouseover","render","classes","STATUS_CLASSNAMES","active","keepAnimation","renderContent","divider"],"mappings":"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"}