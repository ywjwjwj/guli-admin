{"version":3,"file":"optionGroup.js","sources":["../../src/select/optionGroup.tsx"],"sourcesContent":["import Vue, { VNode, VueConstructor } from 'vue';\nimport { ScopedSlotReturnValue } from 'vue/types/vnode';\nimport { renderTNodeJSX } from '../utils/render-tnode';\nimport { prefix } from '../config';\nimport CLASSNAMES from '../utils/classnames';\nimport props from './option-group-props';\nimport { ClassName } from '../common';\nimport { TdOptionProps } from './type';\n\nconst name = `${prefix}-select-option-group`;\n\nexport interface Select extends Vue {\n  tSelect: {\n    size: string;\n    displayOptions: Array<TdOptionProps>;\n  };\n}\n\nexport default (Vue as VueConstructor<Select>).extend({\n  name: 'TOptionGroup',\n  props: { ...props },\n  inject: {\n    tSelect: {\n      default: undefined,\n    },\n  },\n  computed: {\n    classes(): ClassName {\n      return [\n        name,\n        {\n          [CLASSNAMES.SIZE[this.tSelect.size]]: this.tSelect && this.tSelect.size,\n          [`${name}__divider`]: this.divider,\n        },\n      ];\n    },\n  },\n  watch: {\n    'tSelect.displayOptions': function () {\n      this.childrenChange();\n    },\n  },\n  data() {\n    return {\n      visible: true,\n    };\n  },\n  methods: {\n    childrenChange() {\n      this.visible = this.$children\n        && Array.isArray(this.$children)\n        && this.$children.some((option) => (option as any).show === true);\n    },\n  },\n  render(): VNode {\n    const children: ScopedSlotReturnValue = renderTNodeJSX(this, 'default');\n    return (\n      <li v-show={this.visible} class={this.classes}>\n        <div class={`${name}__header`}>{this.label}</div>\n        <ul>{children}</ul>\n      </li>\n    );\n  },\n});\n"],"names":["name","prefix","Vue","extend","props","inject","tSelect","computed","classes","CLASSNAMES","SIZE","size","divider","watch","childrenChange","data","visible","methods","$children","Array","isArray","some","option","show","render","children","renderTNodeJSX","label"],"mappings":";;;;;;;;;;;;;;;;;;AAKA,IAAMA,IAAI,GAAMC,EAAAA,CAAAA,MAAAA,CAAAA,MAAN,EAAV,sBAAA,CAAA,CAAA;AACA,mBAAeC,GAAG,CAACC,MAAJ,CAAW;AACxBH,EAAAA,IAAI,EAAE,cADkB;AAExBI,EAAAA,KAAK,EAAOA,aAAAA,CAAAA,EAAAA,EAAAA,KAAP,CAFmB;AAGxBC,EAAAA,MAAM,EAAE;AACNC,IAAAA,OAAO,EAAE;AACP,MAAA,SAAA,EAAS,KAAK,CAAA;AADP,KAAA;AADH,GAHgB;AAQxBC,EAAAA,QAAQ,EAAE;AACRC,IAAAA,OADQ,EACE,SAAA,OAAA,GAAA;AAAA,MAAA,IAAA,IAAA,CAAA;;AACR,MAAO,OAAA,CACLR,IADK,GAAA,IAAA,GAAA,EAAA,EAAA,eAAA,CAAA,IAAA,EAGFS,UAAU,CAACC,IAAX,CAAgB,IAAA,CAAKJ,OAAL,CAAaK,IAA7B,CAHE,EAGmC,IAAKL,CAAAA,OAAL,IAAgB,IAAA,CAAKA,OAAL,CAAaK,IAHhE,CAAA,EAAA,eAAA,CAAA,IAAA,EAAA,EAAA,CAAA,MAAA,CAICX,IAJD,EAAA,WAAA,CAAA,EAImB,IAAKY,CAAAA,OAJxB,CAAP,EAAA,IAAA,EAAA,CAAA;AAOD,KAAA;AATO,GARc;AAmBxBC,EAAAA,KAAK,EAAE;AACL,IAAA,wBAAA,EAA0B,SAAW,qBAAA,GAAA;AACnC,MAAA,IAAA,CAAKC,cAAL,EAAA,CAAA;AACD,KAAA;AAHI,GAnBiB;AAwBxBC,EAAAA,IAxBwB,EAwBjB,SAAA,IAAA,GAAA;AACL,IAAO,OAAA;AACLC,MAAAA,OAAO,EAAE,IAAA;AADJ,KAAP,CAAA;AAGD,GA5BuB;AA6BxBC,EAAAA,OAAO,EAAE;AACPH,IAAAA,cADO,EACU,SAAA,cAAA,GAAA;AACf,MAAA,IAAA,CAAKE,OAAL,GAAe,IAAA,CAAKE,SAAL,IAAkBC,KAAK,CAACC,OAAN,CAAc,KAAKF,SAAnB,CAAlB,IAAmD,IAAKA,CAAAA,SAAL,CAAeG,IAAf,CAAoB,UAACC,MAAD,EAAA;AAAA,QAAA,OAAYA,MAAM,CAACC,IAAP,KAAgB,IAA5B,CAAA;AAAA,OAApB,CAAlE,CAAA;AACD,KAAA;AAHM,GA7Be;AAkCxBC,EAAAA,MAlCwB,EAkCf,SAAA,MAAA,GAAA;AAAA,IAAA,IAAA,CAAA,GAAA,SAAA,CAAA,CAAA,CAAA,CAAA;AACP,IAAA,IAAMC,QAAQ,GAAGC,cAAc,CAAC,IAAD,EAAO,SAAP,CAA/B,CAAA;AACA,IAAA,OAAA,CAAA,CAAA,IAAA,EAAA;AAAA,MAAA,YAAA,EAAA,CAAA;AAAA,QAAA,IAAA,EAAA,MAAA;AAAA,QAAA,KAAA,EAAmB,IAAKV,CAAAA,OAAAA;AAAxB,OAAA,CAAA;AAAA,MAAA,OAAA,EAAwC,IAAKR,CAAAA,OAAAA;AAA7C,KAAA,EAAA,CAAA,CAAA,CAAA,KAAA,EAAA;AAAA,MAAA,OAAA,EAAA,EAAA,CAAA,MAAA,CACiBR,IADjB,EAAA,UAAA,CAAA;AAAA,KACkC,EAAA,CAAA,IAAA,CAAK2B,KADvC,CAAA,CAAA,EAAA,CAAA,CAAA,IAAA,EAAA,CAEOF,QAFP,CAAA,CAAA,CAAA,CAAA,CAAA;AAID,GAAA;AAxCuB,CAAX,CAAf;;;;"}