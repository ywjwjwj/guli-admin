(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-126f"],{DPb0:function(e,t,s){},kR2N:function(e,t,s){"use strict";s.r(t);var i={data:function(){return{BASE_API:"https://easy-mock.com/mock/5950a2419adc231f356a6636/vue-admin",OSS_PATH:Object({NODE_ENV:"production",BASE_API:"https://easy-mock.com/mock/5950a2419adc231f356a6636/vue-admin"}).OSS_PATH,fileUploadBtnText:"上传到服务器",importBtnDisabled:!1,loading:!1,minFile:!1}},created:function(){},methods:{onChange:function(e,t){var s=e.name.split(".").pop().toLowerCase();if(-1===["xlsx","xls"].indexOf(s))return this.$message.error("只能上传 xlsx/xls 格式的文件 !"),this.minFile=!1,!1;this.minFile=!0},limitCheck:function(){this.$message.warning("每次只能上传一个文件")},submitUpload:function(){if(!this.minFile)return this.$message({type:"error",message:"请重新选择文件后再上传"}),!1;this.fileUploadBtnText="正在上传",this.importBtnDisabled=!0,this.loading=!0,this.$refs.upload.submit()},fileUploadSuccess:function(e){!0===e.success&&(this.fileUploadBtnText="上传到服务器",this.loading=!1,this.$message({type:"success",message:"添加课程信息"+e.message}),this.$router.push({path:"/subject/list"}))},fileUploadError:function(e){this.fileUploadBtnText="上传到服务器",this.loading=!1,this.$message({type:"error",message:"添加失败"})}}},a=(s("owui"),s("KHd+")),l=Object(a.a)(i,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"app-container"},[s("el-form",{attrs:{"label-width":"120px"}},[s("el-form-item",{attrs:{label:"信息描述"}},[s("el-tag",{attrs:{type:"info"}},[e._v("excel模版说明")]),e._v(" "),s("el-tag",[s("i",{staticClass:"el-icon-download"}),e._v(" "),s("a",{attrs:{href:e.OSS_PATH+"/excel/write.xlsx"}},[e._v("点击下载模版")])])],1),e._v(" "),s("el-form-item",{attrs:{label:"选择Excel"}},[s("el-upload",{ref:"upload",attrs:{"auto-upload":!1,"on-change":e.onChange,"on-success":e.fileUploadSuccess,"on-error":e.fileUploadError,disabled:e.importBtnDisabled,limit:1,"on-exceed":e.limitCheck,action:e.BASE_API+"/subject/addSubject",name:"file",accept:".xlsx,.xls"}},[s("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("选取文件")]),e._v(" "),s("el-button",{staticStyle:{"margin-left":"10px"},attrs:{loading:e.loading,size:"small",type:"success"},on:{click:e.submitUpload}},[e._v(e._s(e.fileUploadBtnText))])],1)],1)],1)],1)},[],!1,null,null,null);l.options.__file="save.vue";t.default=l.exports},owui:function(e,t,s){"use strict";var i=s("DPb0");s.n(i).a}}]);