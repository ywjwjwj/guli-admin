{"version":3,"file":"slider.js","sources":["../../src/slider/slider.tsx"],"sourcesContent":["import Vue, { VNode } from 'vue';\nimport { emitEvent } from '../utils/event';\nimport { TNode, ClassName } from '../common';\nimport props from './props';\nimport { prefix } from '../config';\nimport InputNumber from '../input-number/index';\nimport TSliderMark from './slider-mark';\nimport { SliderValue, TdSliderProps } from './type';\nimport TSliderButton from './slider-button';\n\nconst name = `${prefix}-slider`;\nexport interface MarkItem {\n  point: number;\n  position: number;\n  mark: string | number | TNode<{ value: number }>;\n}\ninterface SliderButtonType extends Vue {\n  setPosition: (param: number) => {};\n}\n\nexport default Vue.extend({\n  name: 'TSlider',\n  model: {\n    prop: 'value',\n    event: 'change',\n  },\n  props: {\n    ...props,\n  },\n  components: {\n    TSliderMark,\n    TInputNumber: InputNumber,\n  },\n  provide(): { slider: any } {\n    return {\n      slider: this,\n    };\n  },\n  data() {\n    return {\n      firstValue: 0,\n      secondValue: 0,\n      prevValue: 0,\n      dragging: false,\n      sliderSize: 1,\n      inputDecimalPlaces: 0,\n      inputFormat: null,\n      inputPlaceholder: '',\n      inputTheme: 'column',\n      showSteps: false,\n      // 表单控制禁用态时的变量\n      formDisabled: undefined,\n    };\n  },\n  computed: {\n    tDisabled(): boolean {\n      return this.formDisabled || this.disabled;\n    },\n    containerClass(): ClassName {\n      return [`${name}__container`, { 'is-vertical': this.vertical }];\n    },\n    sliderClass(): ClassName {\n      return [\n        `${name}`,\n        {\n          'is-vertical': this.vertical,\n          [`${name}--with-input`]: this.inputNumberProps,\n          [`${name}--vertical`]: this.vertical,\n          [`${prefix}-is-disabled`]: this.tDisabled,\n        },\n      ];\n    },\n    sliderRailClass(): ClassName {\n      return [`${name}__rail`, { 'show-input': this.inputNumberProps, disabled: this.tDisabled }];\n    },\n    sliderNumberClass(): ClassName {\n      return [\n        `${name}__input`,\n        {\n          'is-vertical': this.vertical,\n        },\n      ];\n    },\n    vertical(): boolean {\n      return this.layout === 'vertical';\n    },\n    // 差值范围\n    rangeDiff(): number {\n      return this.max - this.min;\n    },\n    steps(): number[] {\n      const {\n        min, max, rangeDiff, step,\n      } = this;\n      if (!this.showSteps || min > max) return [];\n      if (this.step === 0) {\n        console.warn('[Element Warn][Slider]step should not be 0.');\n        return [];\n      }\n      const stepCount = rangeDiff / step;\n      const stepWidth = (100 * step) / rangeDiff;\n      const result = [];\n      for (let i = 1; i < stepCount; i++) {\n        result.push(i * stepWidth);\n      }\n      if (this.range) {\n        return result.filter(\n          (step) => step < (100 * (this.minValue - min)) / rangeDiff || step > (100 * (this.maxValue - min)) / rangeDiff,\n        );\n      }\n      return result.filter((step) => step > (100 * (this.firstValue - min)) / rangeDiff);\n    },\n    markList(): Array<MarkItem> {\n      if (!this.marks) {\n        return [];\n      }\n      const legalMarks: Array<MarkItem> = [];\n      Object.keys(this.marks)\n        .map(parseFloat)\n        .sort((a, b) => a - b)\n        .filter((point) => point <= this.max && point >= this.min)\n        .forEach((point) => {\n          const item: MarkItem = {\n            point,\n            position: ((point - this.min) * 100) / this.rangeDiff,\n            mark: this.marks[point],\n          };\n          legalMarks.push(item);\n        });\n      return legalMarks;\n    },\n    minValue(): number {\n      return Math.min(this.firstValue, this.secondValue);\n    },\n    maxValue(): number {\n      return Math.max(this.firstValue, this.secondValue);\n    },\n    barSize(): string {\n      const cuttentDiff = this.range ? this.maxValue - this.minValue : this.prevValue - this.min;\n      return `${(100 * cuttentDiff) / this.rangeDiff}%`;\n    },\n    barStart(): string {\n      return this.range ? `${(100 * (this.minValue - this.min)) / this.rangeDiff}%` : '0%';\n    },\n    precision(): number {\n      const precisions = [this.min, this.max, this.step].map((item) => {\n        const decimalArr = `${item}`.split('.');\n        return decimalArr[1] ? decimalArr[1].length : 0;\n      });\n      return Math.max.apply(null, precisions);\n    },\n    runwayStyle(): object {\n      return this.vertical ? { height: '100%' } : {};\n    },\n    barStyle(): object {\n      return this.vertical\n        ? {\n          height: this.barSize,\n          bottom: this.barStart,\n        }\n        : {\n          width: this.barSize,\n          left: this.barStart,\n        };\n    },\n  },\n  watch: {\n    value(newVal: SliderValue) {\n      if (this.dragging === true) return;\n      if (Array.isArray(newVal) && this.range) {\n        [this.firstValue, this.secondValue] = newVal;\n      } else {\n        this.prevValue = newVal as number;\n      }\n    },\n    firstValue(val: number) {\n      if (this.range) {\n        this.emitChange([this.minValue, this.maxValue]);\n      } else {\n        this.emitChange(val);\n      }\n    },\n\n    secondValue() {\n      if (this.range) {\n        this.emitChange([this.minValue, this.maxValue]);\n      }\n    },\n\n    prevValue(val: number) {\n      this.emitChange(val);\n    },\n    dragging(newVal: boolean) {\n      if (newVal === false) {\n        this.init();\n      }\n    },\n  },\n  mounted() {\n    this.init();\n  },\n  beforeDestroy() {\n    window.removeEventListener('resize', this.resetSize);\n  },\n  methods: {\n    // 初始化传入的value\n    init(): void {\n      let valuetext: string | number;\n\n      const { min, max, value } = this;\n      if (this.range) {\n        if (Array.isArray(value)) {\n          this.firstValue = Math.max(min || 0, value[0]);\n          this.secondValue = Math.min(max || 100, value[1]);\n        } else {\n          this.firstValue = min || 0;\n          this.secondValue = max || 100;\n        }\n        valuetext = `${this.firstValue}-${this.secondValue}`;\n      } else {\n        if (typeof this.value !== 'number') {\n          this.prevValue = min;\n        } else {\n          this.prevValue = Math.min(max, Math.max(min, value as number));\n        }\n        valuetext = String(this.prevValue);\n      }\n      this.$el.setAttribute('aria-valuetext', valuetext);\n      this.resetSize();\n      window.addEventListener('resize', this.resetSize);\n    },\n    valueChanged(): boolean {\n      if (this.range) {\n        return ![this.minValue, this.maxValue].every((item, index) => item === this.prevValue[index]);\n      }\n      return this.value !== this.prevValue;\n    },\n    // 防止值越级\n    setValues(value: SliderValue): SliderValue {\n      const [min, max] = [this.min, this.max];\n      if (min > max) {\n        console.warn('[Slider] max should be greater than min.');\n        return;\n      }\n      // 双向滑块\n      if (this.range && Array.isArray(value)) {\n        let [firstValue, secondValue] = [Math.min(...value), Math.max(...value)];\n        if (firstValue > max) firstValue = this.firstValue;\n        if (firstValue < min) firstValue = min;\n        if (secondValue < min) secondValue = this.secondValue;\n        if (secondValue > max) secondValue = max;\n        [this.firstValue, this.secondValue] = [firstValue, secondValue];\n        return [firstValue, secondValue];\n      }\n      let prevValue = value as number;\n      if (prevValue < min) prevValue = min;\n      if (prevValue > max) prevValue = max;\n      this.prevValue = prevValue;\n      return prevValue;\n    },\n    setInputProps(): void {\n      if (this.inputNumberProps instanceof Object) {\n        const {\n          decimalPlaces: inputDecimalPlaces,\n          format: inputFormat,\n          placeholder: inputPlaceholder,\n          theme: inputTheme,\n        } = this.inputNumberProps;\n        if (typeof inputDecimalPlaces === 'number' && !isNaN(inputDecimalPlaces)) {\n          this.inputDecimalPlaces = inputDecimalPlaces;\n        }\n        if (inputPlaceholder) {\n          this.inputPlaceholder = inputPlaceholder;\n        }\n        if (typeof inputFormat === 'function') {\n          this.inputFormat = inputFormat;\n        }\n        if (['column', 'row', 'normal'].includes(inputTheme)) {\n          this.inputTheme = inputTheme;\n        }\n      }\n    },\n    // 相应button的位置\n    setPosition(percent: number): void {\n      let targetValue = (percent * this.rangeDiff) / 100;\n      targetValue = this.min + targetValue;\n      if (!this.range) {\n        (this.$refs.button1 as SliderButtonType).setPosition(percent);\n        return;\n      }\n      let button;\n      if (Math.abs(this.minValue - targetValue) < Math.abs(this.maxValue - targetValue)) {\n        button = this.firstValue < this.secondValue ? 'button1' : 'button2';\n      } else {\n        button = this.firstValue > this.secondValue ? 'button1' : 'button2';\n      }\n      (this.$refs[button] as SliderButtonType).setPosition(percent);\n    },\n    // 全局点击\n    onSliderClick(event: MouseEvent): void {\n      if (this.tDisabled || this.dragging) {\n        return;\n      }\n      this.resetSize();\n      let value = 0;\n      if (this.vertical) {\n        const sliderOffsetBottom = (this.$refs.slider as Element).getBoundingClientRect().bottom;\n        value = ((sliderOffsetBottom - event.clientY) / this.sliderSize) * 100;\n        this.setPosition(value);\n      } else {\n        const sliderOffsetLeft = (this.$refs.slider as Element).getBoundingClientRect().left;\n        value = ((event.clientX - sliderOffsetLeft) / this.sliderSize) * 100;\n        this.setPosition(value);\n      }\n    },\n    resetSize(): void {\n      if (this.$refs.slider) {\n        this.sliderSize = this.$refs.slider[`client${this.vertical ? 'Height' : 'Width'}`];\n      }\n    },\n    // 只要触发修改就要有这个方法抛出change事件\n    emitChange(value: SliderValue) {\n      let changeValue = value;\n      if (changeValue === undefined) {\n        if (this.range) {\n          changeValue = [this.firstValue, this.secondValue];\n        } else {\n          changeValue = this.prevValue;\n        }\n      }\n      const fixValue: SliderValue = this.setValues(changeValue);\n      emitEvent<Parameters<TdSliderProps['onChange']>>(this, 'change', fixValue);\n    },\n    getStopStyle(position: number) {\n      return this.vertical ? { top: `calc(${100 - position}% - 1px)` } : { left: `${position}%` };\n    },\n\n    // mark 点击触发修改事件\n    changeValue(point: number) {\n      if (this.tDisabled || this.dragging) {\n        return;\n      }\n      this.resetSize();\n      const value = Number((point / this.rangeDiff) * 100);\n      this.setPosition(value);\n      this.emitChange(point);\n    },\n    renderMask(): VNode {\n      if (this.markList.length) {\n        return (\n          <div>\n            <div>\n              {this.markList.map((item, index) => (\n                <div\n                  class={`${name}__stop ${name}__mark-stop`}\n                  style={this.getStopStyle(item.position)}\n                  key={index}\n                ></div>\n              ))}\n            </div>\n            <div class={`${name}__mark`}>\n              {this.markList.map((item, key) => (\n                <t-slider-mark\n                  mark={item.mark}\n                  point={item.point}\n                  key={key}\n                  style={this.getStopStyle(item.position)}\n                  on-change-value={this.changeValue}\n                ></t-slider-mark>\n              ))}\n            </div>\n          </div>\n        );\n      }\n    },\n    renderInputButton(): VNode {\n      const {\n        max, min, sliderNumberClass, range,\n      } = this;\n      return (\n        <div\n          class={[\n            `${name}__input-container`,\n            {\n              'is-vertical': this.vertical,\n            },\n          ]}\n        >\n          {\n            <t-input-number\n              class={sliderNumberClass}\n              value={range ? this.firstValue : this.prevValue}\n              ref=\"input\"\n              step={this.step}\n              onChange={(v: number) => {\n                this.range ? (this.firstValue = v) : (this.prevValue = v);\n              }}\n              disabled={this.tDisabled}\n              min={min}\n              max={max}\n              decimalPlaces={this.inputDecimalPlaces}\n              format={this.inputFormat}\n              placeholder={this.inputPlaceholder}\n              theme={this.inputTheme}\n            ></t-input-number>\n          }\n          {range && <div class={`${name}__center-line`} />}\n          {range && (\n            <t-input-number\n              class={this.sliderNumberClass}\n              v-model={this.secondValue}\n              ref=\"input\"\n              step={this.step}\n              disabled={this.tDisabled}\n              min={min}\n              max={max}\n              decimalPlaces={this.inputDecimalPlaces}\n              format={this.inputFormat}\n              placeholder={this.inputPlaceholder}\n              theme={this.inputTheme}\n            ></t-input-number>\n          )}\n        </div>\n      );\n    },\n  },\n  render(): VNode {\n    const {\n      min, max, layout, disabled, vertical, range,\n    } = this;\n    const buttonGroup = this.inputNumberProps && this.renderInputButton();\n    const masks = this.renderMask();\n    return (\n      <div class={this.containerClass}>\n        <div\n          class={this.sliderClass}\n          role=\"slider\"\n          aria-valuemin={min}\n          aria-valuemax={max}\n          aria-orientation={layout}\n          aria-disabled={disabled}\n          tooltip-props={this.tooltipProps}\n        >\n          <div class={this.sliderRailClass} style={this.runwayStyle} onClick={this.onSliderClick} ref=\"slider\">\n            <div class={`${name}__track`} style={this.barStyle}></div>\n            <TSliderButton\n              vertical={vertical}\n              value={range ? this.firstValue : this.prevValue}\n              ref=\"button1\"\n              disabled={this.tDisabled}\n              tooltip-props={this.tooltipProps}\n              onInput={(v: number) => {\n                this.range ? (this.firstValue = v) : (this.prevValue = v);\n              }}\n            ></TSliderButton>\n            {this.range && (\n              <TSliderButton\n                vertical={vertical}\n                v-model={this.secondValue}\n                ref=\"button2\"\n                disabled={this.tDisabled}\n                tooltip-props={this.tooltipProps}\n              ></TSliderButton>\n            )}\n\n            {this.showSteps && (\n              <div>\n                {this.steps.map((item, key) => (\n                  <div class={`${name}__stop`} key={key} style={this.getStopStyle(item)}></div>\n                ))}\n              </div>\n            )}\n            {masks}\n          </div>\n        </div>\n        {buttonGroup}\n      </div>\n    );\n  },\n});\n"],"names":["name","prefix","Vue","extend","model","prop","event","props","components","TSliderMark","TInputNumber","InputNumber","provide","slider","data","firstValue","secondValue","prevValue","dragging","sliderSize","inputDecimalPlaces","inputFormat","inputPlaceholder","inputTheme","showSteps","formDisabled","computed","tDisabled","disabled","containerClass","vertical","sliderClass","inputNumberProps","sliderRailClass","sliderNumberClass","layout","rangeDiff","max","min","steps","step","console","warn","stepCount","stepWidth","result","i","push","range","filter","step2","minValue","maxValue","markList","marks","legalMarks","Object","keys","map","parseFloat","sort","a","b","point","forEach","item","position","mark","Math","barSize","cuttentDiff","barStart","precision","precisions","decimalArr","split","length","apply","runwayStyle","height","barStyle","bottom","width","left","watch","value","newVal","Array","isArray","val","emitChange","init","mounted","beforeDestroy","window","removeEventListener","resetSize","methods","valuetext","String","$el","setAttribute","addEventListener","valueChanged","every","index","setValues","setInputProps","decimalPlaces","format","placeholder","theme","isNaN","includes","setPosition","percent","targetValue","$refs","button1","button","abs","onSliderClick","sliderOffsetBottom","getBoundingClientRect","clientY","sliderOffsetLeft","clientX","changeValue","fixValue","emitEvent","getStopStyle","top","Number","renderMask","key","renderInputButton","v","render","buttonGroup","masks","tooltipProps"],"mappings":"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"}