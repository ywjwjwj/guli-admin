{"version":3,"file":"col.js","sources":["../../src/grid/col.tsx"],"sourcesContent":["import Vue, { VNode } from 'vue';\nimport isObject from 'lodash/isObject';\nimport { calcSize } from '../utils/responsive';\nimport { prefix } from '../config';\nimport props from './col-props';\nimport { ClassName } from '../common';\nimport { TdColProps, TdRowProps } from './type';\nimport { renderTNodeJSX } from '../utils/render-tnode';\n\nconst name = `${prefix}-col`;\n\nexport default Vue.extend({\n  name: 'TCol',\n\n  props: { ...props },\n\n  inject: ['rowContext'],\n\n  data() {\n    return {\n      size: 'md',\n    };\n  },\n\n  computed: {\n    classes(): ClassName {\n      const {\n        span, order, offset, push, pull,\n      } = this;\n\n      const allSizes = ['xs', 'sm', 'md', 'lg', 'xl', 'xxl'];\n      const sizeClasses = allSizes.reduce((acc, currSize) => {\n        const sizeProp = this[currSize];\n        let sizeObject: any = {};\n        if (typeof sizeProp === 'number') {\n          sizeObject.span = sizeProp;\n        } else if (isObject(sizeProp)) {\n          sizeObject = sizeProp || {};\n        }\n\n        return {\n          ...acc,\n          [`${name}-${currSize}-${sizeObject.span}`]: sizeObject.span !== undefined,\n          [`${name}-${currSize}-order-${sizeObject.order}`]: parseInt(sizeObject.order, 10) >= 0,\n          [`${name}-${currSize}-offset-${sizeObject.offset}`]: parseInt(sizeObject.offset, 10) >= 0,\n          [`${name}-${currSize}-push-${sizeObject.push}`]: parseInt(sizeObject.push, 10) >= 0,\n          [`${name}-${currSize}-pull-${sizeObject.pull}`]: parseInt(sizeObject.pull, 10) >= 0,\n        };\n      }, {});\n\n      return {\n        [`${name}`]: true,\n        [`${name}-${span}`]: span !== undefined,\n        [`${name}-order-${order}`]: order,\n        [`${name}-offset-${offset}`]: offset,\n        [`${name}-push-${push}`]: push,\n        [`${name}-pull-${pull}`]: pull,\n        ...sizeClasses,\n      };\n    },\n  },\n\n  mounted() {\n    this.updateSize();\n    window.addEventListener('resize', this.updateSize);\n  },\n\n  beforeDestroy() {\n    window.removeEventListener('resize', this.updateSize);\n  },\n\n  methods: {\n    updateSize() {\n      this.size = calcSize(window.innerWidth);\n    },\n\n    parseFlex(flex: TdColProps['flex']): string {\n      if (typeof flex === 'number') {\n        return `${flex} ${flex} 0`;\n      }\n      if (/^\\d+(\\.\\d+)?(px|r?em|%)$/.test(flex)) {\n        return `0 0 ${flex}`;\n      }\n      return flex;\n    },\n    calcColPadding(gutter: TdRowProps['gutter'], currentSize: string) {\n      const paddingObj = {};\n      if (typeof gutter === 'number') {\n        Object.assign(paddingObj, {\n          paddingLeft: `${gutter / 2}px`,\n          paddingRight: `${gutter / 2}px`,\n        });\n      } else if (Array.isArray(gutter) && gutter.length) {\n        if (typeof gutter[0] === 'number') {\n          Object.assign(paddingObj, {\n            paddingLeft: `${gutter[0] / 2}px`,\n            paddingRight: `${gutter[0] / 2}px`,\n          });\n        }\n\n        if (isObject(gutter[0]) && gutter[0][currentSize]) {\n          Object.assign(paddingObj, {\n            paddingLeft: `${gutter[0][currentSize] / 2}px`,\n            paddingRight: `${gutter[0][currentSize] / 2}px`,\n          });\n        }\n      } else if (isObject(gutter) && gutter[currentSize]) {\n        Object.assign(paddingObj, {\n          paddingLeft: `${gutter[currentSize] / 2}px`,\n          paddingRight: `${gutter[currentSize] / 2}px`,\n        });\n      }\n      return paddingObj;\n    },\n  },\n\n  render(): VNode {\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    const { flex, tag, classes } = this;\n\n    const colStyle: any = {};\n    flex && (colStyle.flex = this.parseFlex(flex));\n\n    const { rowContext }: any = this;\n    if (rowContext) {\n      const { gutter: rowGutter } = rowContext;\n      Object.assign(colStyle, this.calcColPadding(rowGutter, this.size));\n    }\n\n    return (\n      <tag class={classes} style={colStyle}>\n        {renderTNodeJSX(this, 'default')}\n      </tag>\n    );\n  },\n});\n"],"names":["name","prefix","Vue","extend","props","inject","data","size","computed","classes","span","order","offset","push","pull","allSizes","sizeClasses","reduce","acc","currSize","sizeProp","sizeObject","isObject","parseInt","mounted","updateSize","window","addEventListener","beforeDestroy","removeEventListener","methods","calcSize","innerWidth","parseFlex","flex","test","calcColPadding","gutter","currentSize","paddingObj","Object","assign","paddingLeft","paddingRight","Array","isArray","length","render","tag","colStyle","rowContext","rowGutter","renderTNodeJSX"],"mappings":"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"}