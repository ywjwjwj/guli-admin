{"version":3,"file":"addon.js","sources":["../../src/input/addon.tsx"],"sourcesContent":["import Vue, { VNode, CreateElement } from 'vue';\nimport { prefix } from '../config';\nimport { JsxNode } from '../common';\n\nconst name = `${prefix}-addon`;\n\nexport default Vue.extend({\n  name: 'TAddon',\n  props: {\n    prepend: [String, Function],\n    append: [String, Function],\n  },\n  methods: {\n    renderAddon(h: CreateElement, type: string, addon: string | Function | undefined): JsxNode {\n      let addonNode: JsxNode;\n      if (this.$scopedSlots[type]) {\n        addonNode = this.$scopedSlots[type](null);\n      } else if (typeof addon === 'string') {\n        addonNode = addon;\n      } else if (typeof addon === 'function') {\n        addonNode = addon(h);\n      } else {\n        addonNode = null;\n      }\n      return addonNode ? (\n        <span class={`${name}__${type}`}>\n          { addonNode }\n        </span>\n      ) : addonNode;\n    },\n  },\n  render(h: CreateElement) {\n    const prepend = this.renderAddon(h, 'prepend', this.prepend);\n    const append = this.renderAddon(h, 'append', this.append);\n    const defaultSlot: VNode[] = this.$scopedSlots.default ? this.$scopedSlots.default(null) : [null];\n    const className = [\n      name,\n      {\n        [`${name}--prepend`]: prepend,\n        [`${name}--append`]: append,\n      },\n    ];\n\n    if (!prepend && !append) {\n      return defaultSlot[0];\n    }\n\n    return (\n      <div class={className}>\n        { prepend }\n        { defaultSlot[0] }\n        { append }\n      </div>\n    );\n  },\n});\n"],"names":["name","prefix","Vue","extend","props","prepend","String","Function","append","methods","renderAddon","h","type","addon","addonNode","$scopedSlots","render","defaultSlot","className"],"mappings":";;;;;;;;;;AAEA,IAAMA,IAAI,GAAMC,EAAAA,CAAAA,MAAAA,CAAAA,MAAN,EAAV,QAAA,CAAA,CAAA;AACA,aAAeC,GAAG,CAACC,MAAJ,CAAW;AACxBH,EAAAA,IAAI,EAAE,QADkB;AAExBI,EAAAA,KAAK,EAAE;AACLC,IAAAA,OAAO,EAAE,CAACC,MAAD,EAASC,QAAT,CADJ;AAELC,IAAAA,MAAM,EAAE,CAACF,MAAD,EAASC,QAAT,CAAA;AAFH,GAFiB;AAMxBE,EAAAA,OAAO,EAAE;AACPC,IAAAA,WADO,EACKC,SAAAA,WAAAA,CAAAA,CADL,EACQC,IADR,EACcC,KADd,EACqB;AAC1B,MAAA,IAAIC,SAAJ,CAAA;;AACA,MAAA,IAAI,IAAKC,CAAAA,YAAL,CAAkBH,IAAlB,CAAJ,EAA6B;AAC3BE,QAAAA,SAAS,GAAG,IAAKC,CAAAA,YAAL,CAAkBH,IAAlB,CAAA,CAAwB,IAAxB,CAAZ,CAAA;AACD,OAFD,MAEO,IAAI,OAAOC,KAAP,KAAiB,QAArB,EAA+B;AACpCC,QAAAA,SAAS,GAAGD,KAAZ,CAAA;AACD,OAFM,MAEA,IAAI,OAAOA,KAAP,KAAiB,UAArB,EAAiC;AACtCC,QAAAA,SAAS,GAAGD,KAAK,CAACF,CAAD,CAAjB,CAAA;AACD,OAFM,MAEA;AACLG,QAAAA,SAAS,GAAG,IAAZ,CAAA;AACD,OAAA;;AACD,MAAA,OAAOA,SAAS,GAAA,CAAA,CAAA,MAAA,EAAA;AAAA,QAAmBd,OAAAA,EAAAA,EAAAA,CAAAA,MAAAA,CAAAA,IAAnB,eAA4BY,IAA5B,CAAA;AAAA,OAAqCE,EAAAA,CAAAA,SAArC,KAAyDA,SAAzE,CAAA;AACD,KAAA;AAbM,GANe;AAqBxBE,EAAAA,MArBwB,EAqBjBL,SAAAA,MAAAA,CAAAA,CArBiB,EAqBd;AAAA,IAAA,IAAA,IAAA,CAAA;;AACR,IAAMN,IAAAA,OAAO,GAAG,IAAA,CAAKK,WAAL,CAAiBC,CAAjB,EAAoB,SAApB,EAA+B,IAAKN,CAAAA,OAApC,CAAhB,CAAA;AACA,IAAMG,IAAAA,MAAM,GAAG,IAAA,CAAKE,WAAL,CAAiBC,CAAjB,EAAoB,QAApB,EAA8B,IAAKH,CAAAA,MAAnC,CAAf,CAAA;AACA,IAAA,IAAMS,WAAW,GAAG,IAAKF,CAAAA,YAAL,CAA4B,SAAA,CAAA,GAAA,IAAA,CAAKA,YAAL,CAAA,SAAA,CAAA,CAA0B,IAA1B,CAA5B,GAA8D,CAAC,IAAD,CAAlF,CAAA;AACA,IAAA,IAAMG,SAAS,GAAG,CAChBlB,IADgB,GAGVA,IAAAA,GAAAA,EAAAA,EAAAA,eAAAA,CAAAA,IAAAA,EAAAA,EAAAA,CAAAA,MAAAA,CAAAA,IAHU,EAGQK,WAAAA,CAAAA,EAAAA,OAHR,CAIVL,EAAAA,eAAAA,CAAAA,IAAAA,EAAAA,EAAAA,CAAAA,MAAAA,CAAAA,IAJU,EAIOQ,UAAAA,CAAAA,EAAAA,MAJP,CAAlB,EAAA,IAAA,EAAA,CAAA;;AAOA,IAAA,IAAI,CAACH,OAAD,IAAY,CAACG,MAAjB,EAAyB;AACvB,MAAOS,OAAAA,WAAW,CAAC,CAAD,CAAlB,CAAA;AACD,KAAA;;AACD,IAAA,OAAA,CAAA,CAAA,KAAA,EAAA;AAAA,MAAmBC,OAAAA,EAAAA,SAAAA;AAAnB,KAAA,EAAA,CACGb,OADH,EAEGY,WAAW,CAAC,CAAD,CAFd,EAGGT,MAHH,CAAA,CAAA,CAAA;AAKD,GAAA;AAxCuB,CAAX,CAAf;;;;"}