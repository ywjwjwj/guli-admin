{"version":3,"file":"event.js","sources":["../../src/utils/event.ts"],"sourcesContent":["import Vue from 'vue';\nimport { getPropsApiByEvent } from './helper';\n\nexport type EmitEventName = {\n  event: string;\n  method: string;\n} | string;\n\n/**\n * 组件对外传递事件\n * @param vm 组件实例\n * @param eventName 事件名(注意使用中划线)\n * @param args 事件参数\n * @example emitEvent<[SearchEvent]>(this, 'search', {query: ''});\n * @example emitEvent<[TransferValue[], TargetParams]>(this, 'change', newTargetValue, params);\n * @example emitEvent<[SearchEvent[], TargetParams]>(this, { event: 'search', method: 'onChange' }, {query: ''});\n */\nexport function emitEvent<T extends any[]>(vm: Vue, eventName: EmitEventName, ...args: T) {\n  let emitEventName: string;\n  let emitEventMethodName: string;\n  if (typeof eventName === 'string') {\n    emitEventName = eventName;\n    emitEventMethodName = getPropsApiByEvent(eventName);\n  } else {\n    emitEventName = eventName.event;\n    emitEventMethodName = eventName.method;\n  }\n  if (vm.$listeners[`${emitEventName}`]) {\n    vm.$emit(emitEventName, ...args);\n  }\n  if (typeof vm.$props[emitEventMethodName] === 'function') {\n    vm.$props[emitEventMethodName](...args);\n  }\n}\n"],"names":["emitEvent","vm","eventName","emitEventName","emitEventMethodName","getPropsApiByEvent","event","method","args","$listeners","$emit","$props"],"mappings":";;;;;;;;;;;;AACO,SAASA,SAAT,CAAmBC,EAAnB,EAAuBC,SAAvB,EAA2C;AAChD,EAAA,IAAIC,aAAJ,CAAA;AACA,EAAA,IAAIC,mBAAJ,CAAA;;AACA,EAAA,IAAI,OAAOF,SAAP,KAAqB,QAAzB,EAAmC;AACjCC,IAAAA,aAAa,GAAGD,SAAhB,CAAA;AACAE,IAAAA,mBAAmB,GAAGC,kBAAkB,CAACH,SAAD,CAAxC,CAAA;AACD,GAHD,MAGO;AACLC,IAAAA,aAAa,GAAGD,SAAS,CAACI,KAA1B,CAAA;AACAF,IAAAA,mBAAmB,GAAGF,SAAS,CAACK,MAAhC,CAAA;AACD,GAAA;;AAT+C,EAAA,KAAA,IAAA,IAAA,GAAA,SAAA,CAAA,MAAA,EAANC,IAAM,GAAA,IAAA,KAAA,CAAA,IAAA,GAAA,CAAA,GAAA,IAAA,GAAA,CAAA,GAAA,CAAA,CAAA,EAAA,IAAA,GAAA,CAAA,EAAA,IAAA,GAAA,IAAA,EAAA,IAAA,EAAA,EAAA;AAANA,IAAAA,IAAM,CAAA,IAAA,GAAA,CAAA,CAAA,GAAA,SAAA,CAAA,IAAA,CAAA,CAAA;AAAA,GAAA;;AAUhD,EAAA,IAAIP,EAAE,CAACQ,UAAH,CAAiBN,EAAAA,CAAAA,MAAAA,CAAAA,aAAjB,EAAJ,EAAuC;AACrCF,IAAAA,EAAE,CAACS,KAAH,CAAA,KAAA,CAAAT,EAAE,EAAOE,CAAAA,aAAP,CAAyBK,CAAAA,MAAAA,CAAAA,IAAzB,CAAF,CAAA,CAAA;AACD,GAAA;;AACD,EAAI,IAAA,OAAOP,EAAE,CAACU,MAAH,CAAUP,mBAAV,CAAP,KAA0C,UAA9C,EAA0D;AAAA,IAAA,IAAA,UAAA,CAAA;;AACxD,IAAA,CAAA,UAAA,GAAAH,EAAE,CAACU,MAAH,EAAUP,mBAAV,oBAAkCI,IAAlC,CAAA,CAAA;AACD,GAAA;AACF;;;;"}