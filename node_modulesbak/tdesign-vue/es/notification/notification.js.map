{"version":3,"file":"notification.js","sources":["../../src/notification/notification.tsx"],"sourcesContent":["import Vue, { CreateElement } from 'vue';\nimport isFunction from 'lodash/isFunction';\nimport { InfoCircleFilledIcon, CheckCircleFilledIcon, CloseIcon } from 'tdesign-icons-vue';\nimport { prefix } from '../config';\nimport { renderTNodeJSX, renderContent } from '../utils/render-tnode';\nimport props from './props';\nimport { TNodeReturnValue } from '../common';\n\nconst name = `${prefix}-notification`;\n\nexport default Vue.extend({\n  name: 'TNotification',\n  components: {\n    InfoCircleFilledIcon,\n    CheckCircleFilledIcon,\n    CloseIcon,\n  },\n  props: { ...props },\n  mounted() {\n    if (this.duration > 0) {\n      const timer = setTimeout(() => {\n        clearTimeout(timer);\n        this.$emit('duration-end');\n        if (this.onDurationEnd) {\n          this.onDurationEnd();\n        }\n      }, this.duration);\n    }\n  },\n  methods: {\n    close(e?: MouseEvent) {\n      this.$emit('close-btn-click', { e });\n      if (this.onCloseBtnClick) {\n        this.onCloseBtnClick({ e });\n      }\n    },\n    renderIcon(h: CreateElement) {\n      let icon: TNodeReturnValue;\n      if (this.icon === false) return null;\n      if (isFunction(this.icon)) {\n        icon = this.icon(h);\n      } else if (this.$scopedSlots.icon) {\n        icon = this.$scopedSlots.icon(null);\n      } else if (this.theme) {\n        const iconType = this.theme === 'success' ? (\n            <check-circle-filled-icon class={`${prefix}-is-${this.theme}`} />\n        ) : (\n            <info-circle-filled-icon class={`${prefix}-is-${this.theme}`} />\n        );\n        icon = <div class={`${name}__icon`}>{iconType}</div>;\n      }\n      return icon;\n    },\n    renderClose() {\n      const defaultClose = <close-icon />;\n      return (\n        <span class={`${prefix}-message__close`} onClick={this.close}>\n          {renderTNodeJSX(this, 'closeBtn', defaultClose)}\n        </span>\n      );\n    },\n    renderContent() {\n      return <div class={`${name}__content`}>{renderContent(this, 'default', 'content')}</div>;\n    },\n  },\n  render(h: CreateElement) {\n    const icon = this.renderIcon(h);\n    const close = this.renderClose();\n    const content = this.renderContent();\n    const footer = renderTNodeJSX(this, 'footer');\n    const title = renderTNodeJSX(this, 'title');\n\n    return (\n      <div class={`${name}`}>\n        {icon}\n        <div class={`${name}__main`}>\n          <div class={`${name}__title__wrap`}>\n            <span class={`${name}__title`}>{title}</span>\n            {close}\n          </div>\n          {content}\n          {footer}\n        </div>\n      </div>\n    );\n  },\n});\n"],"names":["name","prefix","Vue","extend","components","InfoCircleFilledIcon","CheckCircleFilledIcon","CloseIcon","props","mounted","duration","timer","setTimeout","clearTimeout","$emit","onDurationEnd","methods","close","e","onCloseBtnClick","renderIcon","h","icon","isFunction","$scopedSlots","theme","iconType","renderClose","defaultClose","renderTNodeJSX","renderContent","render","content","footer","title"],"mappings":";;;;;;;;;;;;;;;;;;;AAMA,IAAMA,IAAI,GAAMC,EAAAA,CAAAA,MAAAA,CAAAA,MAAN,EAAV,eAAA,CAAA,CAAA;AACA,oBAAeC,GAAG,CAACC,MAAJ,CAAW;AACxBH,EAAAA,IAAI,EAAE,eADkB;AAExBI,EAAAA,UAAU,EAAE;AACVC,IAAAA,oBAAoB,EAApBA,oBADU;AAEVC,IAAAA,qBAAqB,EAArBA,qBAFU;AAGVC,IAAAA,SAAS,EAATA,SAAAA;AAHU,GAFY;AAOxBC,EAAAA,KAAK,EAAOA,aAAAA,CAAAA,EAAAA,EAAAA,KAAP,CAPmB;AAQxBC,EAAAA,OARwB,EAQd,SAAA,OAAA,GAAA;AAAA,IAAA,IAAA,KAAA,GAAA,IAAA,CAAA;;AACR,IAAA,IAAI,IAAKC,CAAAA,QAAL,GAAgB,CAApB,EAAuB;AACrB,MAAA,IAAMC,KAAK,GAAGC,UAAU,CAAC,YAAM;AAC7BC,QAAAA,YAAY,CAACF,KAAD,CAAZ,CAAA;;AACA,QAAA,KAAI,CAACG,KAAL,CAAW,cAAX,CAAA,CAAA;;AACA,QAAI,IAAA,KAAI,CAACC,aAAT,EAAwB;AACtB,UAAA,KAAI,CAACA,aAAL,EAAA,CAAA;AACD,SAAA;AACF,OANuB,EAMrB,IAAKL,CAAAA,QANgB,CAAxB,CAAA;AAOD,KAAA;AACF,GAlBuB;AAmBxBM,EAAAA,OAAO,EAAE;AACPC,IAAAA,KADO,EACDC,SAAAA,KAAAA,CAAAA,CADC,EACE;AACP,MAAKJ,IAAAA,CAAAA,KAAL,CAAW,iBAAX,EAA8B;AAAEI,QAAAA,CAAC,EAADA,CAAAA;AAAF,OAA9B,CAAA,CAAA;;AACA,MAAI,IAAA,IAAA,CAAKC,eAAT,EAA0B;AACxB,QAAA,IAAA,CAAKA,eAAL,CAAqB;AAAED,UAAAA,CAAC,EAADA,CAAAA;AAAF,SAArB,CAAA,CAAA;AACD,OAAA;AACF,KANM;AAOPE,IAAAA,UAPO,EAOIC,SAAAA,UAAAA,CAAAA,CAPJ,EAOO;AACZ,MAAA,IAAIC,IAAJ,CAAA;AACA,MAAA,IAAI,KAAKA,IAAL,KAAc,KAAlB,EACE,OAAO,IAAP,CAAA;;AACF,MAAA,IAAIC,UAAU,CAAC,IAAKD,CAAAA,IAAN,CAAd,EAA2B;AACzBA,QAAAA,IAAI,GAAG,IAAA,CAAKA,IAAL,CAAUD,CAAV,CAAP,CAAA;AACD,OAFD,MAEO,IAAI,IAAA,CAAKG,YAAL,CAAkBF,IAAtB,EAA4B;AACjCA,QAAAA,IAAI,GAAG,IAAKE,CAAAA,YAAL,CAAkBF,IAAlB,CAAuB,IAAvB,CAAP,CAAA;AACD,OAFM,MAEA,IAAI,IAAKG,CAAAA,KAAT,EAAgB;AACrB,QAAA,IAAMC,QAAQ,GAAG,IAAKD,CAAAA,KAAL,KAAe,SAAf,GAAA,CAAA,CAAA,0BAAA,EAAA;AAAA,UAA+DxB,OAAAA,EAAAA,EAAAA,CAAAA,MAAAA,CAAAA,MAA/D,EAA4E,MAAA,CAAA,CAAA,MAAA,CAAA,IAAA,CAAKwB,KAAjF,CAAA;AAAA,SAAA,CAAA,GAAA,CAAA,CAAA,yBAAA,EAAA;AAAA,UAAkIxB,OAAAA,EAAAA,EAAAA,CAAAA,MAAAA,CAAAA,MAAlI,EAA+I,MAAA,CAAA,CAAA,MAAA,CAAA,IAAA,CAAKwB,KAApJ,CAAA;AAAA,SAAjB,CAAA,CAAA;AACAH,QAAAA,IAAI,GAAA,CAAA,CAAA,KAAA,EAAA;AAAA,UAAA,OAAA,EAAA,EAAA,CAAA,MAAA,CAAkBtB,IAAlB,EAAA,QAAA,CAAA;AAAA,SAAA,EAAA,CAAiC0B,QAAjC,CAAJ,CAAA,CAAA;AACD,OAAA;;AACD,MAAA,OAAOJ,IAAP,CAAA;AACD,KApBM;AAqBPK,IAAAA,WArBO,EAqBO,SAAA,WAAA,GAAA;AAAA,MAAA,IAAA,CAAA,GAAA,IAAA,CAAA,cAAA,CAAA;AACZ,MAAA,IAAMC,YAAY,GAAlB,CAAA,CAAA,YAAA,CAAA,CAAA;AACA,MAAA,OAAA,CAAA,CAAA,MAAA,EAAA;AAAA,QAAA,OAAA,EAAA,EAAA,CAAA,MAAA,CAAuB3B,MAAvB,EAAA,iBAAA,CAAA;AAAA,QAAA,IAAA,EAAA;AAAA,UAAA,OAAA,EAAyD,IAAKgB,CAAAA,KAAAA;AAA9D,SAAA;AAAA,OAAA,EAAA,CAAsEY,cAAc,CAAC,IAAD,EAAO,UAAP,EAAmBD,YAAnB,CAApF,CAAA,CAAA,CAAA;AACD,KAxBM;AAyBPE,IAAAA,aAzBO,EAyBS,SAAAA,eAAA,GAAA;AAAA,MAAA,IAAA,CAAA,GAAA,IAAA,CAAA,cAAA,CAAA;AACd,MAAA,OAAA,CAAA,CAAA,KAAA,EAAA;AAAA,QAAA,OAAA,EAAA,EAAA,CAAA,MAAA,CAAsB9B,IAAtB,EAAA,WAAA,CAAA;AAAA,OAAA,EAAA,CAAwC8B,aAAa,CAAC,IAAD,EAAO,SAAP,EAAkB,SAAlB,CAArD,CAAA,CAAA,CAAA;AACD,KAAA;AA3BM,GAnBe;AAgDxBC,EAAAA,MAhDwB,EAgDjBV,SAAAA,MAAAA,CAAAA,CAhDiB,EAgDd;AACR,IAAA,IAAMC,IAAI,GAAG,IAAA,CAAKF,UAAL,CAAgBC,CAAhB,CAAb,CAAA;AACA,IAAA,IAAMJ,KAAK,GAAG,IAAKU,CAAAA,WAAL,EAAd,CAAA;AACA,IAAA,IAAMK,OAAO,GAAG,IAAKF,CAAAA,aAAL,EAAhB,CAAA;AACA,IAAA,IAAMG,MAAM,GAAGJ,cAAc,CAAC,IAAD,EAAO,QAAP,CAA7B,CAAA;AACA,IAAA,IAAMK,KAAK,GAAGL,cAAc,CAAC,IAAD,EAAO,OAAP,CAA5B,CAAA;AACA,IAAA,OAAA,CAAA,CAAA,KAAA,EAAA;AAAA,MAAA,OAAA,EAAA,EAAA,CAAA,MAAA,CAAsB7B,IAAtB,CAAA;AAAA,KAAA,EAAA,CACGsB,IADH,EAAA,CAAA,CAAA,KAAA,EAAA;AAAA,MAAA,OAAA,EAAA,EAAA,CAAA,MAAA,CAEiBtB,IAFjB,EAAA,QAAA,CAAA;AAAA,KAAA,EAAA,CAAA,CAAA,CAAA,KAAA,EAAA;AAAA,MAAA,OAAA,EAAA,EAAA,CAAA,MAAA,CAGmBA,IAHnB,EAAA,eAAA,CAAA;AAAA,KAAA,EAAA,CAAA,CAAA,CAAA,MAAA,EAAA;AAAA,MAAA,OAAA,EAAA,EAAA,CAAA,MAAA,CAIsBA,IAJtB,EAAA,SAAA,CAAA;AAAA,KAAA,EAAA,CAIsCkC,KAJtC,CAKOjB,CAAAA,EAAAA,KALP,CAOKe,CAAAA,EAAAA,OAPL,EAQKC,MARL,CAAA,CAAA,CAAA,CAAA,CAAA;AAWD,GAAA;AAjEuB,CAAX,CAAf;;;;"}