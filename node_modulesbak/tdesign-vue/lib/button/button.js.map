{"version":3,"file":"button.js","sources":["../../src/button/button.tsx"],"sourcesContent":["import { VNode } from 'vue';\nimport { prefix } from '../config';\nimport CLASSNAMES from '../utils/classnames';\nimport TLoading from '../loading';\nimport props from './props';\nimport { renderContent, renderTNodeJSX } from '../utils/render-tnode';\nimport ripple from '../utils/ripple';\nimport { getKeepAnimationMixins } from '../config-provider/config-receiver';\nimport mixins from '../utils/mixins';\n\nconst name = `${prefix}-button`;\n\nconst keepAnimationMixins = getKeepAnimationMixins();\nexport interface ButtonHTMLAttributes {\n  attrs?: {\n    disabled?: boolean;\n    type?: string;\n  };\n}\n\nexport default mixins(keepAnimationMixins).extend({\n  name: 'TButton',\n\n  props,\n\n  directives: { ripple },\n\n  render(): VNode {\n    let buttonContent = renderContent(this, 'default', 'content');\n    const icon = this.loading ? <TLoading inheritColor={true} /> : renderTNodeJSX(this, 'icon');\n    const disabled = this.disabled || this.loading;\n    let { theme } = this;\n\n    if (!this.theme) {\n      if (this.variant === 'base') {\n        theme = 'primary';\n      } else {\n        theme = 'default';\n      }\n    }\n\n    const buttonClass = [\n      `${name}`,\n      CLASSNAMES.SIZE[this.size],\n      `${name}--variant-${this.variant}`,\n      `${name}--theme-${theme}`,\n      {\n        [CLASSNAMES.STATUS.disabled]: disabled,\n        [CLASSNAMES.STATUS.loading]: this.loading,\n        [`${name}--shape-${this.shape}`]: this.shape !== 'rectangle',\n        [`${name}--ghost`]: this.ghost,\n        [CLASSNAMES.SIZE.block]: this.block,\n      },\n    ];\n\n    buttonContent = buttonContent ? <span class={`${name}__text`}>{buttonContent}</span> : '';\n    if (icon) {\n      buttonContent = [icon, buttonContent];\n    }\n\n    const on = { ...this.$listeners };\n    if (typeof this.onClick === 'function') {\n      on.click = this.onClick;\n    }\n\n    const buttonAttrs: ButtonHTMLAttributes = {\n      attrs: {\n        type: this.type,\n        disabled,\n      },\n    };\n\n    return (\n      <button v-ripple={this.keepAnimation.ripple} class={buttonClass} {...buttonAttrs} {...{ on }}>\n        {buttonContent}\n      </button>\n    );\n  },\n});\n"],"names":["name","prefix","keepAnimationMixins","getKeepAnimationMixins","mixins","extend","props","directives","ripple","render","buttonContent","renderContent","icon","loading","TLoading","renderTNodeJSX","disabled","theme","variant","buttonClass","CLASSNAMES","SIZE","size","_defineProperty","STATUS","shape","ghost","block","on","$listeners","onClick","click","buttonAttrs","attrs","type","_mergeJSXProps","keepAnimation"],"mappings":"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"}