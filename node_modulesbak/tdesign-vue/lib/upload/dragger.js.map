{"version":3,"file":"dragger.js","sources":["../../src/upload/dragger.tsx"],"sourcesContent":["import Vue, { PropType, VNode } from 'vue';\nimport { CheckCircleFilledIcon, ErrorCircleFilledIcon } from 'tdesign-icons-vue';\nimport { prefix } from '../config';\nimport { UploadFile } from './type';\nimport TLoading from '../loading';\nimport TButton from '../button';\nimport {\n  returnFileSize, getCurrentDate, abridgeName, UPLOAD_NAME,\n} from './util';\nimport { ClassName } from '../common';\nimport props from './props';\n\nconst name = `${prefix}-upload-dragger`;\n\nexport default Vue.extend({\n  name,\n\n  components: {\n    TLoading,\n    TButton,\n    CheckCircleFilledIcon,\n    ErrorCircleFilledIcon,\n  },\n\n  props: {\n    showUploadProgress: props.showUploadProgress,\n    file: {\n      type: Object as PropType<UploadFile>,\n    },\n    loadingFile: {\n      type: Object as PropType<UploadFile>,\n    },\n    display: {\n      type: String as PropType<'file' | 'file-input' | 'image' | 'custom'>,\n      validator(val: string) {\n        return ['file', 'file-input', 'image', 'custom'].includes(val);\n      },\n    },\n    cancel: Function as PropType<(e: MouseEvent) => void>,\n    trigger: Function as PropType<(e: MouseEvent) => void>,\n    remove: Function as PropType<(e: MouseEvent) => void>,\n    upload: Function as PropType<(file: UploadFile, e: MouseEvent) => void>,\n    autoUpload: Boolean,\n  },\n\n  data() {\n    return {\n      target: null,\n      dragActive: false,\n    };\n  },\n\n  computed: {\n    isImage(): boolean {\n      return this.display === 'image';\n    },\n    imageUrl(): string {\n      return (this.loadingFile && this.loadingFile.url) || (this.file && this.file.url);\n    },\n    percent(): number {\n      return this.loadingFile && this.loadingFile.percent;\n    },\n    inputName(): string {\n      return (this.loadingFile && this.loadingFile.name) || (this.file && this.file.name);\n    },\n    classes(): ClassName {\n      return [\n        `${UPLOAD_NAME}__dragger`,\n        { [`${UPLOAD_NAME}__dragger-center`]: !this.loadingFile && !this.file },\n        { [`${UPLOAD_NAME}__dragger-error`]: this.loadingFile && this.loadingFile.status === 'fail' },\n      ];\n    },\n    size(): number {\n      return (this.loadingFile && this.loadingFile.size) || (this.file && this.file.size);\n    },\n    // 上传失败或者上传成功会显示\n    showResultOperate(): boolean {\n      return Boolean(!this.loadingFile && this.file?.name) || ['success', 'fail'].includes(this.loadingFile?.status);\n    },\n  },\n\n  methods: {\n    handleDrop(event: DragEvent) {\n      event.preventDefault();\n      this.$emit('change', event.dataTransfer.files);\n      this.$emit('dragleave', event);\n      this.dragActive = false;\n    },\n\n    handleDragenter(event: DragEvent) {\n      this.target = event.target;\n      event.preventDefault();\n      this.$emit('dragenter', event);\n      this.dragActive = true;\n    },\n\n    handleDragleave(event: DragEvent) {\n      if (this.target !== event.target) return;\n      event.preventDefault();\n      this.$emit('dragleave', event);\n      this.dragActive = false;\n    },\n\n    handleDragover(event: DragEvent) {\n      event.preventDefault();\n    },\n\n    renderDefaultDragElement(): VNode {\n      const unActiveElement = (\n        <div>\n          <span class={`${prefix}-upload--highlight`}>点击上传</span>\n          <span>&nbsp;&nbsp;/&nbsp;&nbsp;拖拽到此区域</span>\n        </div>\n      );\n      const activeElement = <div>释放鼠标</div>;\n      return this.dragActive ? activeElement : unActiveElement;\n    },\n\n    renderImage() {\n      return (\n        <div class={`${UPLOAD_NAME}__dragger-img-wrap`}>\n          {this.imageUrl && <img src={this.imageUrl || 'default.png'}></img>}\n        </div>\n      );\n    },\n\n    renderUploading() {\n      if (this.loadingFile.status === 'fail') {\n        return <ErrorCircleFilledIcon />;\n      }\n      if (this.loadingFile.status === 'progress' && this.showUploadProgress) {\n        return (\n          <div class={`${UPLOAD_NAME}__single-progress`}>\n            <TLoading />\n            <span class={`${UPLOAD_NAME}__single-percent`}>{Math.min(this.loadingFile.percent, 99)}%</span>\n          </div>\n        );\n      }\n    },\n\n    reupload(e: MouseEvent) {\n      this.remove(e);\n      this.trigger(e);\n    },\n\n    renderProgress() {\n      return (\n        <div class={`${UPLOAD_NAME}__dragger-progress`}>\n          {this.isImage && this.renderImage()}\n          <div class={`${UPLOAD_NAME}__dragger-progress-info`}>\n            <div class={`${UPLOAD_NAME}__dragger-text`}>\n              <span class={`${UPLOAD_NAME}__single-name`}>{abridgeName(this.inputName)}</span>\n              {this.loadingFile && this.renderUploading()}\n              {!this.loadingFile && !!this.file && <CheckCircleFilledIcon />}\n            </div>\n            <small class={`${prefix}-size-s`}>文件大小：{returnFileSize(this.size)}</small>\n            <small class={`${prefix}-size-s`}>上传日期：{getCurrentDate()}</small>\n            <div class={`${UPLOAD_NAME}__dragger-btns`}>\n              {['progress', 'waiting'].includes(this.loadingFile?.status) && (\n                <TButton\n                  theme=\"primary\"\n                  variant=\"text\"\n                  class={`${UPLOAD_NAME}__dragger-progress-cancel`}\n                  onClick={this.cancel}\n                >\n                  取消上传\n                </TButton>\n              )}\n              {!this.autoUpload && this.loadingFile?.status === 'waiting' && (\n                <TButton\n                  theme=\"primary\"\n                  variant=\"text\"\n                  onClick={(e: MouseEvent) => this.upload({ ...this.loadingFile }, e)}\n                >\n                  开始上传\n                </TButton>\n              )}\n            </div>\n            {this.showResultOperate && (\n              <div class={`${UPLOAD_NAME}__dragger-btns`}>\n                <TButton\n                  theme=\"primary\"\n                  variant=\"text\"\n                  class={`${UPLOAD_NAME}__dragger-progress-cancel`}\n                  onClick={this.reupload}\n                >\n                  重新上传\n                </TButton>\n                <TButton theme=\"primary\" variant=\"text\" onClick={this.remove}>\n                  删除\n                </TButton>\n              </div>\n            )}\n          </div>\n        </div>\n      );\n    },\n  },\n\n  render(): VNode {\n    let content = null;\n    if ((this.loadingFile || this.file) && this.display !== 'custom') {\n      content = this.renderProgress();\n    } else {\n      content = (\n        <div class={`${UPLOAD_NAME}__trigger`} onClick={this.trigger}>\n          {(this.$scopedSlots.default && this.$scopedSlots.default(null)) || this.renderDefaultDragElement()}\n        </div>\n      );\n    }\n    return (\n      <div\n        class={this.classes}\n        onDrop={this.handleDrop}\n        onDragenter={this.handleDragenter}\n        onDragover={this.handleDragover}\n        onDragleave={this.handleDragleave}\n      >\n        {content}\n      </div>\n    );\n  },\n});\n"],"names":["name","prefix","Vue","extend","components","TLoading","TButton","CheckCircleFilledIcon","ErrorCircleFilledIcon","props","showUploadProgress","file","type","Object","loadingFile","display","String","validator","val","includes","cancel","Function","trigger","remove","upload","autoUpload","Boolean","data","target","dragActive","computed","isImage","imageUrl","url","percent","inputName","classes","UPLOAD_NAME","_defineProperty","status","size","showResultOperate","methods","handleDrop","event","preventDefault","$emit","dataTransfer","files","handleDragenter","handleDragleave","handleDragover","renderDefaultDragElement","unActiveElement","activeElement","renderImage","renderUploading","Math","min","reupload","e","renderProgress","abridgeName","returnFileSize","getCurrentDate","render","content","$scopedSlots"],"mappings":"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"}