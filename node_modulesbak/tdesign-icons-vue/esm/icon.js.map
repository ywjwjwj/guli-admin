{"version":3,"file":"icon.js","sources":["../src/icon.tsx"],"sourcesContent":["import Vue, { VNode, PropType } from 'vue';\nimport classNames from 'classnames';\nimport renderFn from './utils/render-fn';\n\nimport { IconBaseData, SVGJson } from './utils/types';\n\nimport './style/css';\n\nfunction hump2Underline(s: string) {\n  return s\n    .replace(/([A-Z])/g, '-$1')\n    .toLowerCase()\n    .replace('view-box', 'viewBox');\n}\n\nfunction jsonToUnderline(obj: SVGJson) {\n  if (obj instanceof Array) {\n    (obj as SVGJson[]).forEach((v) => {\n      jsonToUnderline(v);\n    });\n  } else if (obj instanceof Object) {\n    Object.keys(obj).forEach((key) => {\n      const newKey = hump2Underline(key);\n      if (newKey !== key) {\n        // eslint-disable-next-line no-param-reassign\n        obj[newKey] = obj[key];\n        // eslint-disable-next-line no-param-reassign\n        delete obj[key];\n      }\n      jsonToUnderline(obj[newKey]);\n    });\n  }\n}\n\nexport default Vue.extend({\n  functional: true,\n  props: {\n    icon: {\n      type: Object as PropType<SVGJson>,\n    },\n    id: {\n      type: String,\n      default: '',\n    },\n  },\n  render(createElement, context): VNode {\n    const { icon, id, ...userProps } = context.props;\n\n    const {\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      staticClass, style, icon: _, id: __, onClick, ...otherProps\n    } = (context.data as IconBaseData).props;\n    const {\n      class: customClassName,\n      staticClass: customStaticClassName,\n      style: customStyle,\n      staticStyle: customStaticStyle,\n      attrs,\n      ...otherBinds\n    } = context.data;\n\n    const {\n      domProps, on, nativeOn, directives, scopedSlots, slot, key, ref, refInFor,\n    } = otherBinds;\n\n    const finalCls = classNames('t-icon', `t-icon-${id}`, staticClass, customClassName, customStaticClassName);\n\n    const finalStyle = { ...style, ...(customStyle as Styles), ...(customStaticStyle as Styles) };\n\n    jsonToUnderline(icon);\n\n    const click = (onClick || on?.click) as Function;\n\n    return renderFn(createElement, icon, {\n      class: undefined,\n      staticClass: finalCls,\n      props: { ...userProps, ...otherProps },\n      attrs,\n      style: finalStyle,\n      on: { ...on, click: (e: MouseEvent) => click?.({ e }), ...nativeOn },\n      directives,\n      scopedSlots,\n      slot,\n      key,\n      ref,\n      refInFor,\n      domProps,\n    });\n  },\n});\n"],"names":["s","replace","toLowerCase","obj","Array","forEach","v","Object","keys","key","newKey","hump2Underline","Vue","extend","functional","props","icon","type","id","String","render","createElement","context","userProps","data","staticClass","style","_","__","onClick","otherProps","customClassName","customStaticClassName","customStyle","customStaticStyle","staticStyle","attrs","otherBinds","domProps","on","nativeOn","directives","scopedSlots","slot","ref","refInFor","finalCls","classNames","finalStyle","click","renderFn","e"],"mappings":";;;;;;;;;;;;;;AAQA,uBAAA,CAAwBA,CAAxB,EAAmC;SAC1BA,EACJC,OADI,CACI,UADJ,EACgB,KADhB,EAEJC,WAFI,GAGJD,OAHI,CAGI,UAHJ,EAGgB,SAHhB;;;AAMT,wBAAA,CAAyBE,GAAzB,EAAuC;MACjCA,eAAeC,OAAO;AACvBD,IAAAA,IAAkBE,OAAlB,CAA0B,UAACC,CAAD,EAAO;sBAChBA;KADjB;aAGQH,eAAeI,QAAQ;WACzBC,KAAKL,KAAKE,QAAQ,UAACI,GAAD,EAAS;UAC1BC,SAASC,eAAeF;;UAC1BC,WAAWD,KAAK;YAEdC,UAAUP,IAAIM;eAEXN,IAAIM;;;sBAEGN,IAAIO;;;;;AAK1B,eAAeE,IAAIC,MAAJ,CAAW;AACxBC,EAAAA,YAAY,IADY;AAExBC,EAAAA,OAAO;AACLC,IAAAA,MAAM;AACJC,MAAAA,MAAMV;AADF,KADD;AAILW,IAAAA,IAAI;AACFD,MAAAA,MAAME,MADJ;AAEF,iBAAS;AAFP;AAJC,GAFiB;AAWxBC,EAAAA,MAXwB,kBAWjBC,aAXiB,EAWFC,OAXE,EAWc;yBACDA,QAAQP;QAAnCC,sBAAAA;QAAME,oBAAAA;QAAOK;;8BAKhBD,QAAQE,IAAR,CAA8BT;QADjCU,kCAAAA;QAAaC,4BAAAA;QAAaC,wBAANX;QAAaY,yBAAJV;QAAQW,8BAAAA;QAAYC;;wBAS/CR,QAAQE;QANHO;QACMC,sCAAbP;QACOQ,4BAAPP;QACaQ,kCAAbC;QACAC,sBAAAA;QACGC;;QAIHC,WACED,WADFC;QAAUC,KACRF,WADQE;QAAIC,WACZH,WADYG;QAAUC,aACtBJ,WADsBI;QAAYC,cAClCL,WADkCK;QAAaC,OAC/CN,WAD+CM;QAAMlC,MACrD4B,WADqD5B;QAAKmC,MAC1DP,WAD0DO;QAAKC,WAC/DR,WAD+DQ;QAG7DC,WAAWC,WAAW,2BAAoB7B,KAAMO,aAAaM,iBAAiBC;;QAE9EgB,2DAAkBtB,QAAWO,cAA4BC;;oBAE/ClB;;QAEViC,SAASpB,YAAWU,eAAAA,yBAAAA,GAAIU;;WAEvBC,SAAS7B,eAAeL,MAAM;AACnC,eAAO,MAD4B;AAEnCS,MAAAA,aAAaqB,QAFsB;AAGnC/B,MAAAA,uCAAYQ,YAAcO,WAHS;AAInCM,MAAAA,OAAAA,KAJmC;AAKnCV,MAAAA,OAAOsB,UAL4B;AAMnCT,MAAAA,oCAASA;AAAIU,QAAAA,OAAO,eAACE,CAAD;AAAA,iBAAmBF,MAAnB,aAAmBA,MAAnB,uBAAmBA,OAAQ;AAAEE,YAAAA,GAAAA;AAAF,YAA3B;AAAA;SAAsCX,SANvB;AAOnCC,MAAAA,YAAAA,UAPmC;AAQnCC,MAAAA,aAAAA,WARmC;AASnCC,MAAAA,MAAAA,IATmC;AAUnClC,MAAAA,KAAAA,GAVmC;AAWnCmC,MAAAA,KAAAA,GAXmC;AAYnCC,MAAAA,UAAAA,QAZmC;AAanCP,MAAAA,UAAAA;AAbmC;;AAvCf,CAAX,CAAf;;;;"}