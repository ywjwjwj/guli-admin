{"version":3,"file":"svg-sprite.js","sources":["../../src/svg-sprite/svg-sprite.tsx"],"sourcesContent":["import Vue from 'vue';\n\nimport props from './props/props';\nimport ConfigContext from '../utils/config-context';\nimport useSizeProps from '../utils/use-size-props';\nimport { checkScriptAndLoad } from '../utils/check-url-and-load';\n\nimport '../style/css';\n\nconst { classPrefix } = ConfigContext;\n\nconst tName = `${classPrefix}-icon`;\n\nconst CDN_ICONFONT_URL = 'https://tdesign.gtimg.com/icon/0.0.3/fonts/index.js';\n\nexport default Vue.extend({\n  name: 'Icon',\n  props,\n  computed: {\n    iconName(): string {\n      return this.url ? this.name : `${tName}-${this.name}`;\n    },\n    classes(): ClassName {\n      const { className: sizeClassName } = useSizeProps(this.size);\n      const iconName = this.url ? this.name : `${tName}-${this.name}`;\n      const arr = [\n        tName,\n        iconName,\n        sizeClassName,\n      ];\n      return arr;\n    },\n    iconStyle(): Styles {\n      if (['small', 'medium', 'large'].includes(this.size)) return {};\n      return {\n        'font-size': this.size,\n      };\n    },\n  },\n  methods: {\n    handleClick(e: MouseEvent) {\n      this.$emit('click', { e });\n      this.onClick?.({ e });\n    },\n  },\n  mounted() {\n    let finalUrl: Array<string> = [];\n\n    if (this.url) {\n      finalUrl = this.url instanceof Array ? this.url.concat() : [this.url];\n    }\n    if (this.loadDefaultIcons) {\n      finalUrl.push(CDN_ICONFONT_URL);\n    }\n    Array.from(new Set(finalUrl)).forEach((url: string) => {\n      checkScriptAndLoad(url, `${classPrefix}-svg-js-stylesheet--unique-class`);\n    });\n  },\n  render() {\n    const attrs = {\n      href: `#${this.iconName}`,\n    };\n    return (\n      <svg class={this.classes} style={this.iconStyle} onClick={this.handleClick}>\n        <use {...{ attrs }}/>\n      </svg>\n    );\n  },\n});\n"],"names":["classPrefix","ConfigContext","tName","CDN_ICONFONT_URL","Vue","extend","name","props","computed","iconName","url","classes","useSizeProps","size","sizeClassName","className","arr","iconStyle","includes","methods","handleClick","e","$emit","onClick","mounted","finalUrl","Array","concat","loadDefaultIcons","push","from","Set","forEach","render","attrs","href"],"mappings":";;;;;;;;;;;;;;;;;;;AASA,IAAQA,WAAR,GAAwBC,8BAAxB,CAAQD,WAAR;AAEA,IAAME,kBAAWF,qBAAjB;AAEA,IAAMG,mBAAmB,qDAAzB;AAEA,YAAeC,wBAAIC,MAAJ,CAAW;AACxBC,EAAAA,MAAM,MADkB;AAExBC,EAAAA,OAAAA,gCAFwB;AAGxBC,EAAAA,UAAU;AACRC,IAAAA,QADQ,sBACW;aACV,KAAKC,GAAL,GAAW,KAAKJ,IAAhB,aAA0BJ,KAA1B,cAAmC,KAAKI,IAAxC;KAFD;AAIRK,IAAAA,OAJQ,qBAIa;0BACkBC,8BAAa,KAAKC;UAApCC,8BAAXC;;UACFN,WAAW,KAAKC,GAAL,GAAW,KAAKJ,IAAhB,aAA0BJ,KAA1B,cAAmC,KAAKI,IAAxC;UACXU,MAAM,CACVd,KADU,EAEVO,QAFU,EAGVK,aAHU;aAKLE;KAZD;AAcRC,IAAAA,SAdQ,uBAcY;UACd,CAAC,OAAD,EAAU,QAAV,EAAoB,OAApB,EAA6BC,QAA7B,CAAsC,KAAKL,IAA3C,UAAyD;aACtD;AACL,qBAAa,KAAKA;AADb;;AAhBD,GAHc;AAwBxBM,EAAAA,SAAS;AACPC,IAAAA,WADO,uBACKC,CADL,EACoB;AAAA;;WACpBC,MAAM,SAAS;AAAED,QAAAA,GAAAA;AAAF;4BACfE,kFAAU;AAAEF,QAAAA,GAAAA;AAAF;;AAHV,GAxBe;AA8BxBG,EAAAA,OA9BwB,qBA8Bd;QACJC,WAA0B;;QAE1B,KAAKf,KAAK;iBACD,KAAKA,GAAL,YAAoBgB,KAApB,GAA4B,KAAKhB,GAAL,CAASiB,MAAT,EAA5B,GAAgD,CAAC,KAAKjB,GAAN;;;QAEzD,KAAKkB,kBAAkB;eAChBC,KAAK1B;;;UAEV2B,KAAK,IAAIC,GAAJ,CAAQN,QAAR,GAAmBO,QAAQ,UAACtB,GAAD,EAAiB;+CAClCA,eAAQV;;GAxCP;AA2CxBiC,EAAAA,MA3CwB,oBA2Cf;AAAA;QACDC,QAAQ;AACZC,MAAAA,iBAAU,KAAK1B;AADH;;eAIA,KAAKE;eAAgB,KAAKM;;iBAAoB,KAAKG;;;iCAClDc;;;AAjDO,CAAX,CAAf;;;;"}